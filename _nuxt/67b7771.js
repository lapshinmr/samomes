(window.webpackJsonp=window.webpackJsonp||[]).push([[42,11],{707:function(e,t,n){"use strict";n.d(t,"h",(function(){return y})),n.d(t,"e",(function(){return T})),n.d(t,"k",(function(){return O})),n.d(t,"i",(function(){return A})),n.d(t,"g",(function(){return E})),n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return F})),n.d(t,"j",(function(){return R})),n.d(t,"m",(function(){return S})),n.d(t,"l",(function(){return w})),n.d(t,"n",(function(){return j})),n.d(t,"o",(function(){return D})),n.d(t,"f",(function(){return M}));n(10),n(13),n(15),n(16);var r=n(3),o=n(65),l=n(14),c=(n(4),n(12),n(263),n(198),n(11),n(33),n(45),n(29),n(32),n(262),n(199),n(706)),d=n(708),m=n(38),f=n(39),h=(n(24),n(48),n(34),n(79),n(55),function(){function e(t){Object(m.a)(this,e),this.formulaInit=t}return Object(f.a)(e,[{key:"mass",get:function(){var e=this,t=0;return Object.keys(this.composition).forEach((function(n){t+=c.a[n]*e.composition[n]})),t}},{key:"formula",get:function(){return e.replaceSupAndSub(this.formulaInit)}},{key:"composition",get:function(){var t=e.cleanParentheses(this.formula);return e.formulaToJson(t)}},{key:"simplifiedFormula",get:function(){return this.createSimplifiedFormula()}},{key:"createSimplifiedFormula",value:function(){var e="";return Object.entries(this.composition).forEach((function(t){var n=Object(l.a)(t,2),element=n[0],r=n[1];e+=element,1!==r&&(e+=r)})),e}}],[{key:"replaceSupAndSub",value:function(e){return e.replace(/[⁰¹²³⁴-⁹₀-₉]/g,(function(e){return e.charCodeAt(0).toString(16).slice(-1)}))}},{key:"isLowerCase",value:function(e){return/^[a-z]$/.test(e)}},{key:"isUpperCase",value:function(e){return/^[A-Z]$/.test(e)}},{key:"isNumber",value:function(e){return/^\d+$/.test(e)}},{key:"createComposition",value:function(e){var t={};return e.forEach((function(e){var n=Object(l.a)(e,2),element=n[0],r=n[1];element in t?t[element]+=+r:t[element]=+r})),t}},{key:"getParenthesisGroups",value:function(e){var t=[],n=[];return e.split("").forEach((function(e,r){"("===e&&t.push(r),")"===e&&n.push([t.pop(),r])})),n}},{key:"createElemList",value:function(t){var n=t.split(""),r="",o="",l=[];return n.forEach((function(t){0===r.length&&e.isUpperCase(t)?r=t:1===r.length&&e.isLowerCase(t)?r+=t:r.length>0&&(e.isNumber(t)?o+=t:e.isUpperCase(t)&&(0===o.length&&(o="1"),l.push([r,o]),r=t,o=""))})),0===o.length&&(o="1"),l.push([r,o]),l}},{key:"cleanParentheses",value:function(t){if(!t.includes("("))return t;for(var n=e.getParenthesisGroups(t)[0],r=Object(l.a)(n,2),o=r[0],c=r[1],d="",i=1;e.isNumber(t[c+i]);)d+=t[c+i],i+=1;0===d.length&&(d="1");var m=+d,f=t.substring(o+1,c),h=e.createElemList(f),v="";h.forEach((function(e){var t=Object(l.a)(e,2),element=t[0],n=t[1];v+=element,v+=n*m}));var _="(".concat(f,")");1!==m&&(_+=m);var y=t.replace(_,v);return e.cleanParentheses(y)}},{key:"formulaToJson",value:function(t){if(0===t.length)return{};var n=e.createElemList(t);return e.createComposition(n)}}]),e}());function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y=function(e){var t={};return Object.values(e).forEach((function(e){Object.entries(e).forEach((function(e){var n=Object(l.a)(e,2),r=n[0],o=n[1];void 0===t[r]&&(t[r]=0),t[r]+=o}))})),t},T=function(e){var t=function(e){var t=0,n=d.a[e].ions;return Object.entries(n).forEach((function(e){var n=Object(l.a)(e,2),r=n[0],o=n[1];t+=c.a[r]*o.count})),t}(e),n={},r=d.a[e].ions;return Object.entries(r).forEach((function(e){var r=Object(l.a)(e,2),o=r[0],d=r[1];d.isNeeded&&(n[o]=c.a[o]*d.count/t)})),n},O=function(e){var t=!1;return Object.values(e).forEach((function(e){Object.keys(e).forEach((function(n){e[n]&&(t=!0)}))})),t},A=function(e){var t={};return Object.values(e).forEach((function(e){Object.keys(e).forEach((function(n){void 0===t[n]&&(t[n]=0),t[n]+=e[n]}))})),t},E=function(e){var t=0,n=A(e);return Object.keys(n).forEach((function(e){t+=n[e]})),t},I=function(e){var t,n=0;return Object(o.a)(e).forEach((function(e){n+=+e?c.a[t]*(parseInt(e,10)-1):c.a[e],t=e})),n},P={N:"NO3",NO3:"N",P:"PO4",PO4:"P",S:"SO4",SO4:"S"},C={NO3:"N",PO4:"P",P2O5:"P2",SO4:"S",K2O:"K2",MgO:"Mg",CaO:"Ca"},N=function(e){return P[e]||e},F=function(e){return N(e)!==e?I(N(e))/I(e):1},R=function(e){var t=new h(e).mass;return new h(C[e]).mass/t},S=function(e){return e.reagents&&e.reagents.length>0},w=function(e){return e.elements&&Object.keys(e.elements).length>0},j=function(){var filter=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[];return Object.entries(d.a).forEach((function(t){var n=Object(l.a)(t,2),r=n[0],data=n[1],o=!1;0!==filter.length?filter.forEach((function(element){r.includes(element)&&(o=!0)})):o=!0,o&&e.push(_({key:r,text:"".concat(data.name," - ").concat(r)},data))})),e.sort((function(a,b){return a.text.localeCompare(b.text)})),e},D=function(e,t){return e.sort((function(a,b){return a[t].localeCompare(b[t])})),e},M=function(e,t,n){var r=e[t],o=e[n];return r&&o?(r*F(t)/(o*F(n))).toFixed(2):"—"}},713:function(e,t,n){var content=n(726);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(21).default)("0afac06e",content,!0,{sourceMap:!1})},718:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return l}));var r={CO3:60.01001,HCO3:61.01812},o={Mg:4.346,Ca:7.144},l=2.804},721:function(e,t,n){"use strict";n.r(t),n.d(t,"FERTILIZATION_EVERY_DAY",(function(){return d})),n.d(t,"FERTILIZATION_IN_TAP_WATER",(function(){return m})),n.d(t,"FERTILIZATION_MIX",(function(){return f}));var r=n(3),o=(n(23),n(4),n(12),n(11),n(10),n(13),n(15),n(16),n(707));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d=0,m=1,f=2,h={name:"FertilizersDoseTable",props:{fertilizationType:{type:Number,default:d},recipesSelected:{type:Array,default:function(){return[]}},days:{type:Number,default:1},waterChangeVolume:{type:Number,default:0},isFertilizationTypes:{type:Boolean,default:!0},isWaterChange:{type:Boolean,default:!0}},data:function(){return{FERTILIZATION_IN_TAP_WATER:m,FERTILIZATION_EVERY_DAY:d,FERTILIZATION_MIX:f,mode:[{text:"Ежедневно",value:!1},{text:"Всего",value:!0}],amountDayTotal:[]}},computed:{isTotal:{get:function(){return this.$store.state.schedule.isTotalMode},set:function(e){this.$store.commit("SCHEDULE_SET_TOTAL_MODE",e)}}},watch:{isTotal:function(e){var t=this;e&&this.recipesSelected.forEach((function(e,n){e.amountDay&&(t.amountDayTotal[n]=e.amountDay*t.days)}))}},methods:{isFertilizer:o.l,inputRecipeAmount:function(e,t){var n=this.recipesSelected[t],r=""!==e?+e:"";if(this.fertilizationType===m){var o=r/this.days;this.$emit("input",t,c(c({},n),{},{amount:r,amountDay:o}))}else this.fertilizationType===f&&this.$emit("input",t,c(c({},n),{},{amount:r}))},inputRecipeAmountDay:function(e,t){var n=this.recipesSelected[t],r=""!==e?+e:"";if(this.fertilizationType===d){var o=r*this.days;this.$emit("input",t,c(c({},n),{},{amount:o,amountDay:r}))}else this.fertilizationType===f&&this.$emit("input",t,c(c({},n),{},{amountDay:r}))},inputRecipeAmountDayTotal:function(e,t){var n=this.recipesSelected[t],r=""!==e?+e:"";this.amountDayTotal[t]=r;var o=r/this.days;if(this.fertilizationType===d){var l=r;this.$emit("input",t,c(c({},n),{},{amount:l,amountDay:o}))}else this.fertilizationType===f&&this.$emit("input",t,c(c({},n),{},{amountDay:o}))}}},v=(n(725),n(37)),_=n(46),y=n.n(_),T=n(684),O=n(733),A=n(734),E=n(739),component=Object(v.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isFertilizationTypes?n("v-radio-group",{staticClass:"my-2",attrs:{value:e.fertilizationType,"hide-details":"auto",column:"xs"===e.$vuetify.breakpoint.name,row:"xs"!==e.$vuetify.breakpoint.name},on:{change:function(t){return e.$emit("change",t)}}},[n("v-radio",{attrs:{label:"Каждый день",value:0}}),e._v(" "),n("v-radio",{staticClass:"mt-1 mt-sm-0",attrs:{label:"В подменную воду",value:1}}),e._v(" "),n("v-radio",{staticClass:"mt-1 mt-sm-0",attrs:{label:"Комбинированная подача",value:2}})],1):e._e(),e._v(" "),[e.FERTILIZATION_IN_TAP_WATER,e.FERTILIZATION_MIX].includes(e.fertilizationType)&&e.isWaterChange?n("number-field",{staticClass:"mt-4",attrs:{value:e.waterChangeVolume,label:"Введите объем подмены",hint:"Это нужно для подсчета дозы на подмену"},on:{input:function(t){return e.$emit("water-change",+t)}}}):e._e(),e._v(" "),n("div",{staticClass:"d-flex mt-4"},[[e.FERTILIZATION_IN_TAP_WATER,e.FERTILIZATION_MIX].includes(e.fertilizationType)&&e.isFertilizationTypes?n("div",{staticClass:"text-subtitle-1 font-weight-medium w-60 pr-2",class:{"w-100":e.fertilizationType===e.FERTILIZATION_IN_TAP_WATER}},[n("span",{staticStyle:{position:"relative",top:"3px"}},[e.FERTILIZATION_IN_TAP_WATER===e.fertilizationType?[e._v("\n          Весь объем удобрений\n        ")]:[e._v("\n          Подмена\n        ")]],2),e._v(" "),n("v-divider",{staticClass:"mt-1"})],1):e._e(),e._v(" "),[e.FERTILIZATION_EVERY_DAY,e.FERTILIZATION_MIX].includes(e.fertilizationType)?n("div",{staticClass:"text-subtitle-1 w-40 font-weight-medium",class:{"w-100":e.fertilizationType===e.FERTILIZATION_EVERY_DAY}},[n("v-select",{staticClass:"mt-0 pt-0",attrs:{items:e.mode,"item-text":"text","item-value":"value","hide-details":"auto"},model:{value:e.isTotal,callback:function(t){e.isTotal=t},expression:"isTotal"}})],1):e._e()]),e._v(" "),e._l(e.recipesSelected,(function(t,r){return n("div",{key:r,staticClass:"d-flex justify-space-between align-center"},[[e.FERTILIZATION_IN_TAP_WATER,e.FERTILIZATION_MIX].includes(e.fertilizationType)?n("number-field",{staticClass:"pr-2",class:{"w-60":e.fertilizationType===e.FERTILIZATION_MIX},attrs:{value:t.amount,"precision-show":2,"precision-value":4,label:t.name,suffix:t.volume>0||e.isFertilizer(t)?"мл":"г","hide-details":"auto"},on:{input:function(t){return e.inputRecipeAmount(t,r)}}}):e._e(),e._v(" "),[e.FERTILIZATION_EVERY_DAY,e.FERTILIZATION_MIX].includes(e.fertilizationType)?n("div",{staticClass:"d-flex",class:{"w-100":e.fertilizationType===e.FERTILIZATION_EVERY_DAY,"w-40":e.FERTILIZATION_MIX||e.isTotal}},[e.isTotal?e._e():n("number-field",{attrs:{value:t.amountDay,"precision-show":2,"precision-value":4,label:e.FERTILIZATION_EVERY_DAY===e.fertilizationType?t.name:"",suffix:t.volume>0||e.isFertilizer(t)?"мл/день":"г/день","hide-details":"auto"},on:{input:function(t){return e.inputRecipeAmountDay(t,r)}}}),e._v(" "),e.isTotal?n("number-field",{attrs:{value:e.amountDayTotal[r],"precision-show":2,"precision-value":4,label:e.FERTILIZATION_EVERY_DAY===e.fertilizationType?t.name:"",suffix:t.volume>0||e.isFertilizer(t)?"мл":"г","hide-details":"auto"},on:{input:function(t){return e.inputRecipeAmountDayTotal(t,r)}}}):e._e()],1):e._e()],1)}))],2)}),[],!1,null,"3925251a",null);t.default=component.exports;y()(component,{NumberField:n(200).default}),y()(component,{VDivider:T.a,VRadio:O.a,VRadioGroup:A.a,VSelect:E.a})},725:function(e,t,n){"use strict";n(713)},726:function(e,t,n){var r=n(20)(!1);r.push([e.i,".w-60[data-v-3925251a]{width:60%}.w-50[data-v-3925251a]{width:50%}.w-40[data-v-3925251a]{width:40%}",""]),e.exports=r},742:function(e,t,n){"use strict";n.r(t);n(23),n(4),n(12),n(263),n(11),n(262);var r=n(707),o=n(718),l=n(721),c=n(706),d={name:"ElementsTable",props:{fertilizationType:{type:Number,default:l.FERTILIZATION_EVERY_DAY},recipesSelected:{type:Array,default:function(){return[]}},daysTotal:{type:Number,default:1},volume:{type:Number,default:null},waterChangeVolume:{type:Number,default:0},tank:{type:Object,default:null},isHelpfulInfo:{type:Boolean,default:!1},isSwitchers:{type:Boolean,default:!1}},data:function(){return{GH:o.a,FERTILIZATION_IN_TAP_WATER:l.FERTILIZATION_IN_TAP_WATER,FERTILIZATION_EVERY_DAY:l.FERTILIZATION_EVERY_DAY,FERTILIZATION_MIX:l.FERTILIZATION_MIX,ELEMENTS:c.a}},computed:{isHardness:{get:function(){return this.$store.state.schedule.isHardness},set:function(e){this.$store.commit("SCHEDULE_SET_IS_HARDNESS",e)}},isHelpful:function(){return!!(this.totalElements.P&&this.totalElements.P.total>0&&this.totalElements.N&&this.totalElements.N.total>0)||(!!(this.totalElements.P&&this.totalElements.P.total>0&&this.totalElements.B&&this.totalElements.B.total>0)||!!(this.totalElements.Fe&&this.totalElements.Fe.total>0&&this.totalElements.B&&this.totalElements.B.total>0))},totalElements:function(){var e=this,t={};return this.recipesSelected.forEach((function(n){Object.values(n.concentration).forEach((function(r){Object.keys(r).forEach((function(o){if(o in t||(t[o]={amount:0,amountDay:0,waterChangeVolume:0,total:0}),e.fertilizationType===l.FERTILIZATION_EVERY_DAY){var c=n.amount*r[o]/e.volume,d=c/e.daysTotal,m=c;!n.volume&&e.isRecipe(n)&&(c*=1e3,d*=1e3,m*=1e3),t[o].amount+=c,t[o].amountDay+=d,t[o].total+=m}else if(e.fertilizationType===l.FERTILIZATION_IN_TAP_WATER){var f=n.amount*r[o]/e.volume,h=f/e.daysTotal,v=f,_=e.waterChangeVolume?n.amount*r[o]/e.waterChangeVolume:0;!n.volume&&e.isRecipe(n)&&(f*=1e3,h*=1e3,_*=1e3,v*=1e3),t[o].amount+=f,t[o].total+=v,t[o].amountDay+=h,t[o].waterChangeVolume+=_}else if(e.fertilizationType===l.FERTILIZATION_MIX){var y=n.amount*r[o]/e.volume,T=e.waterChangeVolume?n.amount*r[o]/e.waterChangeVolume:0,O=n.amountDay*r[o]/e.volume,A=y+O*e.daysTotal;!n.volume&&e.isRecipe(n)&&(y*=1e3,T*=1e3,O*=1e3,A*=1e3),t[o].amount+=y,t[o].waterChangeVolume+=T,t[o].amountDay+=O,t[o].total+=A}}))}))})),t},totalElementsSorted:function(){var e=this,t=[];return Object.keys(this.totalElements).forEach((function(n){t.push([e.convertIonName(n),{amount:e.convertIonRatio(n)*e.totalElements[n].amount,amountDay:e.convertIonRatio(n)*e.totalElements[n].amountDay,waterChangeVolume:e.convertIonRatio(n)*e.totalElements[n].waterChangeVolume,total:e.convertIonRatio(n)*e.totalElements[n].total}])})),t.sort((function(a,b){return b[1].amount-a[1].amount})),t},CN:function(){return 106*(c.a.C+2*c.a.O)/(c.a.P+4*c.a.O)/(16*(c.a.N+3*c.a.O)/(c.a.P+4*c.a.O))*this.totalElements.N.total*Object(r.d)("N")},CP:function(){return 106*(c.a.C+2*c.a.O)/(c.a.P+4*c.a.O)*this.totalElements.P.total*Object(r.d)("P")}},methods:{convertIonName:r.c,convertIonRatio:r.d,isFertilizer:r.l,isRecipe:r.m}},m=n(37),f=n(46),h=n.n(f),v=n(694),_=n(695),y=n(738),T=n(752),component=Object(m.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isSwitchers?n("div",{staticClass:"d-flex align-center mt-2 mb-2"},[n("v-switch",{staticClass:"mt-0 mb-2 mb-sm-0",attrs:{label:"Показать повышение жесткости","hide-details":"auto"},model:{value:e.isHardness,callback:function(t){e.isHardness=t},expression:"isHardness"}})],1):e._e(),e._v(" "),n("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"pl-0 text-center"},[e._v("\n            Элемент\n          ")]),e._v(" "),e.isHardness?n("th",{staticClass:"text-center"},[e._v("\n            dGh\n          ")]):e._e(),e._v(" "),e.fertilizationType===e.FERTILIZATION_EVERY_DAY?[n("th",{staticClass:"text-center"},[e._v("\n              Общая доза, "),n("span",[e._v("мг/л")])]),e._v(" "),n("th",{staticClass:"text-center"},[e._v("\n              В день\n            ")])]:e._e(),e._v(" "),e.fertilizationType===e.FERTILIZATION_IN_TAP_WATER?[n("th",{staticClass:"text-center"},[e._v("\n              В подмене, "),n("span",[e._v("мг/л")])]),e._v(" "),n("th",{staticClass:"text-center"},[e._v("\n              В аквариуме, "),n("span",[e._v("мг/л")])]),e._v(" "),n("th",{staticClass:"text-center"},[e._v("\n              В день, "),n("span",[e._v("мг/л")])])]:e._e(),e._v(" "),e.fertilizationType===e.FERTILIZATION_MIX?[n("th",{staticClass:"text-center"},[e._v("\n              В подмене/аквариуме, "),n("span",[e._v("мг/л")])]),e._v(" "),n("th",{staticClass:"text-center"},[e._v("\n              В день/неделю\n            ")]),e._v(" "),n("th",{staticClass:"text-center"},[e._v("\n              Общая доза, "),n("span",[e._v("мг/л")])])]:e._e()],2)]),e._v(" "),n("tbody",e._l(e.totalElementsSorted,(function(t){var r=t[0],o=t[1];return n("tr",{key:r,class:{caption:e.$vuetify.breakpoint.xs,regular:e.$vuetify.breakpoint.smAndUp}},[void 0!==o.amount?[n("td",{staticClass:"pl-0 text-center"},[e._v("\n              "+e._s(r)+"\n            ")]),e._v(" "),e.isHardness?n("td",{staticClass:"text-center"},[r in e.GH?[[e.FERTILIZATION_IN_TAP_WATER,e.FERTILIZATION_EVERY_DAY].includes(e.fertilizationType)?[e._v("\n                  +"+e._s((o.amount/e.GH[r]).toFixed(2))+"\n                ")]:e._e(),e._v(" "),e.FERTILIZATION_MIX===e.fertilizationType?[e._v("\n                  +"+e._s((o.total/e.GH[r]).toFixed(2))+"\n                ")]:e._e()]:e._e()],2):e._e(),e._v(" "),e.fertilizationType===e.FERTILIZATION_EVERY_DAY?[n("td",{staticClass:"text-center text-no-wrap"},[e._v("\n                "+e._s(o.amount.toFixed(3))+"\n              ")]),e._v(" "),n("td",{staticClass:"text-center text-no-wrap"},[e._v("\n                "+e._s(o.amountDay.toFixed(3))+"\n              ")])]:e._e(),e._v(" "),e.fertilizationType===e.FERTILIZATION_IN_TAP_WATER?[n("td",{staticClass:"text-center text-no-wrap"},[e._v("\n                "+e._s((o.waterChangeVolume?o.waterChangeVolume:0).toFixed(3))+"\n              ")]),e._v(" "),n("td",{staticClass:"text-center text-no-wrap"},[e._v("\n                "+e._s(o.amount.toFixed(3))+"\n              ")]),e._v(" "),n("td",{staticClass:"text-center text-no-wrap"},[e._v("\n                "+e._s(o.amountDay.toFixed(3))+"\n              ")])]:e._e(),e._v(" "),e.fertilizationType===e.FERTILIZATION_MIX?[n("td",{staticClass:"text-center text-no-wrap"},[e._v("\n                "+e._s((o.waterChangeVolume?o.waterChangeVolume:0).toFixed(3))+" /\n                "+e._s(o.amount.toFixed(3))+"\n              ")]),e._v(" "),n("td",{staticClass:"text-center text-no-wrap"},[e._v("\n                "+e._s(o.amountDay.toFixed(3))+" / "+e._s((o.amountDay*e.daysTotal).toFixed(3))+"\n              ")]),e._v(" "),n("td",{staticClass:"text-center text-no-wrap"},[e._v("\n                "+e._s(o.total.toFixed(3))+"\n              ")])]:e._e()]:e._e()],2)})),0)]},proxy:!0}])}),e._v(" "),e.isHelpful&&e.isHelpfulInfo?n("v-row",{staticClass:"mt-4 body-2"},[e.totalElements.P&&e.totalElements.P.total>0&&e.totalElements.N&&e.totalElements.N.total>0?n("v-col",{staticClass:"text-center",attrs:{cols:"3",sm:"3"}},[e._v("\n      NO"),n("sub",[e._v("3")]),e._v(" / PO"),n("sub",[e._v("4")]),e._v(" "),n("br"),e._v("\n      "+e._s((e.totalElements.N.total*e.convertIonRatio("N")/(e.totalElements.P.total*e.convertIonRatio("P"))).toFixed(2))+"\n    ")]):e._e(),e._v(" "),e.totalElements.P&&e.totalElements.P.total>0&&e.totalElements.Fe&&e.totalElements.Fe.total>0?n("v-col",{staticClass:"text-center",attrs:{cols:"3",sm:"3"}},[e._v("\n      PO"),n("sub",[e._v("4")]),e._v(" / Fe\n      "),n("br"),e._v("\n      "+e._s((e.totalElements.P.total*e.convertIonRatio("P")/e.totalElements.Fe.total).toFixed(2))+"\n    ")]):e._e(),e._v(" "),e.totalElements.P&&e.totalElements.P.total>0&&e.totalElements.B&&e.totalElements.B.total>0?n("v-col",{staticClass:"text-center",attrs:{cols:"3",sm:"3"}},[e._v("\n      P / B\n      "),n("br"),e._v("\n      "+e._s((e.totalElements.P.total/e.totalElements.B.total).toFixed(2))+"\n    ")]):e._e(),e._v(" "),e.totalElements.Fe&&e.totalElements.Fe.total>0&&e.totalElements.B&&e.totalElements.B.total>0?n("v-col",{staticClass:"text-center",attrs:{cols:"3",sm:"3"}},[e._v("\n      Fe / B\n      "),n("br"),e._v("\n      "+e._s((e.totalElements.Fe.total/e.totalElements.B.total).toFixed(2))+"\n    ")]):e._e()],1):e._e()],1)}),[],!1,null,"0dde5154",null);t.default=component.exports;h()(component,{VCol:v.a,VRow:_.a,VSimpleTable:y.a,VSwitch:T.a})},760:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(262),n(32);var r=[{name:"APT 3 / Complete",isPercent:!0,elements:{N:.7,P2O5:.9,K2O:7,Fe:.09,Mn:.015,MgO:1.6,Cu:4e-4,B:.015,Zn:.007,Mo:1e-6},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-02-18"},{name:"Prestige FitoMin Macro",isPercent:!1,elements:{N:10.7,K:32,P:1.5},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-03-04"},{name:"Prestige FitoMin Калий",isPercent:!1,elements:{K:50},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-03-04"},{name:"Prestige FitoMin Micro",isPercent:!0,elements:{K:1.2,Fe:.15,Mg:.08,B:.006,Mn:.05,Mo:.003,Zn:.002,Cu:.002},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-03-04"},{name:"Prestige FitoMin Железо",isPercent:!0,elements:{Fe:6,Mn:1.1},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-03-04"},{name:"Aquabalance полный комплекс Total",isPercent:!0,elements:{NO3:4.65,PO4:.45,K:1.45,Ca:.14,Mg:.17,Fe:.07,Mn:.015,B:.008,Zn:.006,Cu:.0015,Mo:.002},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-03-03"},{name:"Aquabalance Ферро Баланс",isPercent:!0,elements:{Fe:.7,Mn:.1},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-03-03"},{name:"Aquabalance Калий Баланс",isPercent:!0,elements:{K:5},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-03-03"},{name:"Aquabalance Нитро Баланс",isPercent:!0,elements:{NO3:4.65,K:1.45,Ca:.14,Mg:.17},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-03-03"},{name:"Aquabalance Фосфо Баланс",isPercent:!0,elements:{PO4:.45,K:.095},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-03-03"},{name:"Aquabalance Макро Баланс",isPercent:!0,elements:{NO3:4.65,PO4:.45,K:1.45,Ca:.14,Mg:.17},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-03-03"},{name:"Aquabalance Микро Баланс",isPercent:!0,elements:{Fe:.2,Mn:.05,Zn:.01,B:.009,Cu:.003,Mo:.003},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-03-03"},{name:"Aquabalance Микро Баланс + K",isPercent:!0,elements:{K:3,Fe:.2,Mn:.05,Zn:.01,B:.009,Cu:.003,Mo:.003},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-03-03"},{name:"Aquabalance Тотал-Мох",isPercent:!0,elements:{NO3:5,PO4:.5,Fe:.05},note:"Это фирменное удобрение. Все данные взяты с этикетки. Содержит макроэлементы: азот, фосфор, калий, кальций, магний, а так же микроэле- менты: железо, марганец,бор в том числе в органической форме.",updatedAt:"2025-03-03"},{name:"Aquabalance Premium Micro (KH<4)",isPercent:!0,elements:{Fe:.2,Mn:.08,B:.008,Zn:.005,Cu:.01,Mo:.006},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-03-03"},{name:"Aquabalance Premium Micro (KH>4)",isPercent:!0,elements:{Fe:.32,Mn:.08,B:.009,Zn:.008,Cu:.008,Mo:.003},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-03-03"},{name:"Aquabalance Premium Макро корректор P+K",isPercent:!0,elements:{PO4:.9,K2O:.4},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-03-03"},{name:"Aquabalance Premium Макро корректор N+K",isPercent:!0,elements:{NO3:10,K:1.76},note:"Это фирменное удобрение. Все данные взяты с этикетки."},{name:"Aquabalance Premium Макро комплекс NPK",isPercent:!0,elements:{NO3:9.6,PO4:.9,K:2},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-03-03"},{name:"Aquabalance Premium Fe+Mn",isPercent:!0,elements:{Fe:1,Mn:.2},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-03-03"},{name:"Aquabalance Колор Баланс",isPercent:!0,elements:{Mg:3,Fe:.1,Mn:.05},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-03-03"},{name:"Aquayer Макро+",isPercent:!1,elements:{N:8.21,P:1.2,K:20.43},note:"Это фирменное удобрение. Данные взяты на сайте производителя https://aquayer.com",updatedAt:"2025-03-03"},{name:"Aquayer Микро+",isPercent:!1,elements:{K:6.93,Fe:1.2,Mg:.8,Mn:.4,B:.072,Mo:.03,Cu:.045,Zn:.015,Co:.007},note:"Это фирменное удобрение. Данные взяты на сайте производителя https://aquayer.com",updatedAt:"2025-03-03"},{name:"Aquayer Железо+",isPercent:!1,elements:{Fe:7,Mg:1.3},note:"Это фирменное удобрение. Данные взяты на сайте производителя https://aquayer.com",updatedAt:"2025-03-03"},{name:"Aquayer Калий+",isPercent:!1,elements:{K:50},note:"Это фирменное удобрение. Данные взяты на сайте производителя https://aquayer.com",updatedAt:"2025-03-03"},{name:"Aquayer Смарт Макро (Нитрат)",isPercent:!1,elements:{NO3:72,K:45.3},note:"Это фирменное удобрение. Данные взяты на сайте производителя https://aquayer.com",updatedAt:"2025-03-03"},{name:"Aquayer Смарт Макро (Фосфат)",isPercent:!1,elements:{PO4:7.2,K:3},note:"Это фирменное удобрение. Данные взяты на сайте производителя https://aquayer.com",updatedAt:"2025-03-03"},{name:"Aquaerus Макро",isPercent:!1,elements:{N:9.428,P:1.394,K:23.354},note:"Это фирменное удобрение. Данные взяты c этикетки.",updatedAt:"2025-05-02"},{name:"Aquaerus Микро",isPercent:!1,elements:{K:7.92,Fe:1.372,Mg:.915,Mn:.457,B:.082,Cu:.052,Mo:.035,Zn:.017,Co:.008},note:"Это фирменное удобрение. Данные взяты c этикетки.",updatedAt:"2025-05-02"},{name:"Aquaerus Железо",isPercent:!1,elements:{Fe:7,Mg:1.3},note:"Это фирменное удобрение. Данные взяты c этикетки.",updatedAt:"2025-03-03"},{name:"Aquaerus Калий",isPercent:!1,elements:{K:50},note:"Это фирменное удобрение. Данные взяты c этикетки.",updatedAt:"2025-03-03"},{name:"Aquaerus Нитрат+",isPercent:!1,elements:{NO3:72,K:45.3},note:"Это фирменное удобрение. ВНИМАНИЕ! Производитель не указал содержание калия в этом удобрении. Но в оригинальном удобрении калий присутствует. Также пользователи указывают на повышение калия в аквариуме.Поэтому безопаснее для аквариума будет учитывать калий как в удобрении Aquayer.",updatedAt:"2025-03-03"},{name:"Aquaerus Фосфат+",isPercent:!1,elements:{PO4:7.2,K:3},note:"Это фирменное удобрение. ВНИМАНИЕ! Производитель не указал содержание калия в этом удобрении. Но в оригинальном удобрении калий присутствует. Также пользователи указывают на повышение калия в аквариуме.Поэтому безопаснее для аквариума будет учитывать калий как в удобрении Aquayer.",updatedAt:"2025-03-03"},{name:"Seachem Nitrogen",isPercent:!0,elements:{N:1.5,K2O:2},note:"Это фирменное удобрение. Данные взяты с сайта https://seachem.com/planted.php",updatedAt:"2025-03-04"},{name:"Seachem Phosphorus",isPercent:!0,elements:{P2O5:.3,K2O:.2},note:"Это фирменное удобрение. Данные взяты с сайта https://seachem.com/planted.php",updatedAt:"2025-03-04"},{name:"Seachem Potassium",isPercent:!0,elements:{K2O:5},note:"Это фирменное удобрение. Данные взяты с сайта https://seachem.com/planted.php",updatedAt:"2025-03-04"},{name:"Seachem Flourish",isPercent:!0,elements:{N:.07,P2O5:.01,K2O:.37,Ca:.14,Mg:.11,S:.2773,B:.009,Cl:1.15,Co:4e-4,Cu:1e-4,Fe:.32,Mn:.0118,Mo:9e-4,Na:.13,Zn:7e-4},note:"Это фирменное удобрение. Данные взяты с сайта https://seachem.com/planted.php",updatedAt:"2025-03-04"},{name:"Seachem Flourish Advance",isPercent:!0,elements:{P2O5:.04,K2O:.45,Ca:.04,Mg:.04},note:"Это фирменное удобрение. Данные взяты с сайта https://seachem.com/planted.php",updatedAt:"2025-03-04"},{name:"Seachem Flourish Trace",isPercent:!0,elements:{B:.0028,Co:3e-5,Cu:.0032,Mn:.0085,Mo:3e-4,Zn:.0169,Rb:8e-6,Ni:3e-6,V:2e-6},note:"Это фирменное удобрение. Данные взяты с сайта https://seachem.com/planted.php",updatedAt:"2025-03-04"},{name:"Seachem Flourish Iron",isPercent:!0,elements:{Fe:1},note:"Это фирменное удобрение. Данные взяты с сайта https://seachem.com/planted.php",updatedAt:"2025-03-04"},{name:"Tropica Premium Nutrition",isPercent:!0,elements:{K:.8,Mg:.4,S:.9,B:.004,Cu:.006,Fe:.07,Mn:.04,Mo:.002,Zn:.002},note:"Это фирменное удобрение. Данные взяты с сайта https://tropica.com/en/plant-care/liquid-fertilisers/premium-nutrition/",updatedAt:"2025-03-04"},{name:"Tropica Specialised Nutrition",isPercent:!0,elements:{N:1.3,P:.1,K:1,Mg:.4,S:.9,B:.004,Cu:.006,Fe:.07,Mn:.04,Mo:.002,Zn:.002},note:"Это фирменное удобрение. Данные взяты с сайта https://tropica.com/en/plant-care/liquid-fertilisers/specialised-nutrition/",updatedAt:"2025-03-04"},{name:"Dennerle Plant Care Pro",isPercent:!0,elements:{K2O:2.8,S:1,MgO:.78,Fe:.14,Mn:.047,Na:.008,B:.0075,Zn:.0056,Co:5e-4,Cu:.0019,Mo:.0019,Ni:1e-4,V:4e-5},note:"Это фирменное удобрение. Все данные взяты из официальных источников:\nhttps://dennerle.com/en/collections/plantcare",updatedAt:"2025-05-02"},{name:"Dennerle Plant Care NPK",isPercent:!1,elements:{NO3:50,PO4:4,K:25,Mg:5,Na:4.4},note:"Это фирменное удобрение. Все данные взяты из официальных источников:\nhttps://dennerle.com/en/collections/plantcare",updatedAt:"2025-05-02"},{name:"Dennerle Plant Care N",isPercent:!1,elements:{NO3:100,Na:23,K:20},note:"Это фирменное удобрение. Все данные взяты из официальных источников:\nhttps://dennerle.com/en/collections/plantcare",updatedAt:"2025-05-02"},{name:"Dennerle Plant Care P ",isPercent:!1,elements:{PO4:12.5,K:5},note:"Это фирменное удобрение. Все данные взяты из официальных источников:\nhttps://dennerle.com/en/collections/plantcare",updatedAt:"2025-05-02"},{name:"Dennerle Plan Care K",isPercent:!1,elements:{K:50},note:"Это фирменное удобрение. Все данные взяты из официальных источников:\nhttps://dennerle.com/en/collections/plantcare",updatedAt:"2025-05-02"},{name:"Dennerle Elixir Basic",isPercent:!0,elements:{N:.02,K2O:.11,Mg:.02,S:.14,B:.0018,Cu:5e-4,Co:1e-4,Fe:.025,Mn:.01,Mo:.001,Zn:5e-4,Al:1e-4,Li:3e-4,Ni:4e-5,V:1e-4},note:"Это фирменное удобрение. Все данные взяты из официальных источников:\nhttps://dennerle.com/en/collections/plantcare",updatedAt:"2025-02-24"},{name:"Dennerle NPK Booster",isPercent:!1,elements:{NO3:50,PO4:2,K:10},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2021-08-14"},{name:"Dennerle Scaper’s Green",isPercent:!0,elements:{K:1.08,B:6e-4,Co:.001,Cu:.002,Fe:.133,Mn:.052,Mo:.003,Zn:.003},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2021-08-14"},{name:"Аквапозитив Азот+",isPercent:!0,elements:{NO3:6,K:2.2,Ca:.3,Mg:.1},note:"Это фирменное удобрение. Данные взяты https://vk.com/akvapozitiv",updatedAt:"2025-03-04"},{name:"Аквапозитив Фосфор+",isPercent:!0,elements:{PO4:.5,K:.5,Mg:.1},note:"Это фирменное удобрение. Данные взяты https://vk.com/akvapozitiv",updatedAt:"2025-03-04"},{name:"Аквапозитив Макро+",isPercent:!0,elements:{NO3:6,K:2.3,PO4:.5},note:"Это фирменное удобрение. Данные взяты https://vk.com/akvapozitiv",updatedAt:"2025-03-04"},{name:"Аквапозитив Микро+",isPercent:!0,elements:{Fe:.13,Mn:.042,B:.01,Co:5e-4,Cu:.0025,Mo:.0015,Zn:.007,Ni:2e-4},note:"Это фирменное удобрение. Данные взяты https://vk.com/akvapozitiv",updatedAt:"2025-03-04"},{name:"Аквапозитив Железо+",isPercent:!0,elements:{Fe:.2,Mn:.04},note:"Это фирменное удобрение. Данные взяты https://vk.com/akvapozitiv",updatedAt:"2025-03-04"},{name:"Аквапозитив Азот+ (порошок)",isPercent:!0,elements:{NO3:6,K:2},note:"Это фирменное удобрение. Данные взяты https://vk.com/akvapozitiv",updatedAt:"2025-03-04"},{name:"Аквапозитив Фосфор+ (порошок)",isPercent:!0,elements:{PO4:.5,K:.5,Mg:.1},note:"Это фирменное удобрение. Данные взяты https://vk.com/akvapozitiv",updatedAt:"2025-03-04"},{name:"Аквапозитив Калий+ (порошок)",isPercent:!0,elements:{K:5},note:"Это фирменное удобрение. Данные взяты https://vk.com/akvapozitiv",updatedAt:"2025-03-04"},{name:"Аквапозитив Магний (порошок)",isPercent:!0,elements:{Mg:.3},note:"Это фирменное удобрение. Данные взяты https://vk.com/akvapozitiv",updatedAt:"2025-03-04"},{name:"WaterSci Micro XL для осмоса",isPercent:!1,elements:{K:10.48,S:6.56,Mg:5.5,Fe:2,Mn:.52,Na:.37,B:.09,Zn:.05,Mo:.04,Co:.01,Cu:.03},note:"Это фирменное удобрение. Все данные взяты из официальных источников:\nhttps://watersci.ru\nhttps://vk.com/watersci",updatedAt:"2025-02-24"},{name:"WaterSci Micro 1/2 Fe XL для осмоса",isPercent:!1,elements:{K:10.48,S:6.56,Mg:5.5,Fe:1,Mn:.26,Na:.37,B:.09,Zn:.05,Mo:.04,Co:.01,Cu:.03},note:"Это фирменное удобрение. Все данные взяты из официальных источников:\nhttps://watersci.ru\nhttps://vk.com/watersci",updatedAt:"2025-02-24"},{name:"WaterSci 1/2 Fe gluconate XL для осмоса",isPercent:!1,elements:{Fe:1,Mn:.26},note:"Это фирменное удобрение. Все данные взяты из официальных источников:\nhttps://watersci.ru\nhttps://vk.com/watersci",updatedAt:"2025-02-24"},{name:"WaterSci NK XL для любой воды",isPercent:!1,elements:{K:90.77,N:22.93},note:"Это фирменное удобрение. Все данные взяты из официальных источников:\nhttps://watersci.ru\nhttps://vk.com/watersci",updatedAt:"2025-02-24"},{name:"WaterSci PK XL для любой воды",isPercent:!1,elements:{K:90.77,P:2.82},note:"Это фирменное удобрение. Все данные взяты из официальных источников:\nhttps://watersci.ru\nhttps://vk.com/watersci",updatedAt:"2025-02-24"},{name:"WaterSci K XL для любой воды",isPercent:!1,elements:{K:90.77},note:"Это фирменное удобрение. Все данные взяты из официальных источников:\nhttps://watersci.ru\nhttps://vk.com/watersci",updatedAt:"2025-02-24"},{name:"WaterSci Micro 3 in 1 L для водопроводной воды",isPercent:!1,elements:{K:3.41,S:2.13,Mg:1.79,Fe:.65,Mn:.17,Na:.12,B:.02,Zn:.02,Mo:.01,Co:.01,Cu:.01},note:"Это фирменное удобрение. Все данные взяты из официальных источников:\nhttps://watersci.ru\nhttps://vk.com/watersci",updatedAt:"2025-02-24"},{name:"WaterSci Mаcro NPK L для водопроводной воды",isPercent:!1,elements:{K:90.77,N:10.71,P:1.41},note:"Это фирменное удобрение. Все данные взяты из официальных источников:\nhttps://watersci.ru\nhttps://vk.com/watersci",updatedAt:"2025-02-24"},{name:"Easy Life: Nitro",isPercent:!1,elements:{NO3:100,K:65},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-02-21"},{name:"Easy Life: Fosfo",isPercent:!1,elements:{PO4:10},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-02-21"},{name:"Easy Life: Potassium ",isPercent:!1,elements:{K:40},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-02-21"},{name:"Easy Life: ProFito",isPercent:!1,elements:{K:4.8,Fe:2.4,Mg:.9,Mn:.4,B:.08,Mo:.02,Zn:.02,Co:.01,Ni:.01,Cu:0},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-02-21"},{name:"Easy Life: GreenScape",isPercent:!1,elements:{NO3:100,PO4:10,K:65,Fe:2},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-02-21"},{name:"Easy Life: RedScape",isPercent:!1,elements:{NO3:20,PO4:10,K:16.5,Fe:2},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-02-21"},{name:"Easy Life: Ferro",isPercent:!1,elements:{Fe:10},note:"Это фирменное удобрение. Все данные взяты с этикетки.",updatedAt:"2025-02-21"},{name:"Tetra PlantaMin",isPercent:!0,elements:{K2O:1,Fe:.2,B:.005,Mn:.01,Zn:.002,S:.5,Na:.95},note:"Это фирменное удобрение. Данные взяты с сайта магазина https://www.aquasabi.com/Tetra-PlantaMin",updatedAt:"2025-03-04"},{name:"Aqua Botanic Micro",isPercent:!1,elements:{K:4,Fe:2.67,Mg:1.1,Mn:.3,Zn:.17,B:.1,Cu:.05,Mo:.02,Co:.01204},note:"Рецепт взят с сайта aqua-botanic.ru(https://web.archive.org/web/20131206073940/http://www.aqua-botanic.ru/index.html)"}],o=r.sort((function(a,b){return a.name.localeCompare(b.name)}))},796:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n(65),l=(n(23),n(4),n(12),n(32),n(13),n(11),n(10),n(15),n(16),n(721));function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var d={name:"ScheduleDoseTable",props:{value:{type:Object,default:function(){}},fertilizationType:{type:Number,default:l.FERTILIZATION_EVERY_DAY},daysTotal:{type:Number,default:1},datesColumn:{type:Array,default:function(){return[]}},recipesSelected:{type:Array,default:function(){return[]}}},data:function(){return{FERTILIZATION_IN_TAP_WATER:l.FERTILIZATION_IN_TAP_WATER,FERTILIZATION_EVERY_DAY:l.FERTILIZATION_EVERY_DAY,FERTILIZATION_MIX:l.FERTILIZATION_MIX}},computed:{waterChangeQuotas:function(){var e={};return this.recipesSelected.forEach((function(t){e[t.name]=t.amount})),e},daysQuotas:function(){var e=this,t={};return this.fertilizationType===l.FERTILIZATION_IN_TAP_WATER?{}:(this.recipesSelected.forEach((function(n){var r=[],l=e.value[n.name],c=l.filter((function(e){return!e})).length,d=e.daysTotal-c,m=n.amountDay*e.daysTotal,f=m/(e.daysTotal-c);Object.keys(Object(o.a)(Array(e.daysTotal))).forEach((function(e){m?(f=l[e]?m/d:0,r.push(f)):r.push(null)})),t[n.name]=r})),t)},headers:function(){return this.fertilizationType===l.FERTILIZATION_IN_TAP_WATER?Object.keys(this.waterChangeQuotas):Object.keys(this.daysQuotas)}},methods:{onChange:function(e,t,n){var o=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},this.value);o[t][n]=e,this.$emit("input",o)}}},m=d,f=n(37),h=n(46),v=n.n(h),_=n(770),y=n(738),component=Object(f.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-center pl-0"},[e._v("\n          Дни\n        ")]),e._v(" "),e._l(e.headers,(function(t){return n("th",{key:t,staticClass:"text-center"},[e._v("\n          "+e._s(t)+"\n        ")])}))],2)]),e._v(" "),n("tbody",[[e.FERTILIZATION_IN_TAP_WATER,e.FERTILIZATION_MIX].includes(e.fertilizationType)?n("tr",[n("td",{staticClass:"pl-0 text-center"},[e._v("\n          Подмена\n        ")]),e._v(" "),e._l(e.waterChangeQuotas,(function(t,r,o){return n("td",{key:"water_change_"+r,staticClass:"text-center",class:{"pr-0":o===Object.keys(e.waterChangeQuotas).length-1}},[t?[e._v("\n            "+e._s(t.toFixed(2))+"\n          ")]:[e._v("\n            -\n          ")]],2)}))],2):e._e(),e._v(" "),Object.keys(e.daysQuotas).length>0?e._l(e.daysTotal,(function(t,r){return n("tr",{key:t},[n("td",{staticClass:"pl-0 text-center"},[n("span",{staticStyle:{"text-transform":"capitalize"}},[e._v(e._s(e.datesColumn[r].weekday))]),e._v(",\n            "),n("span",{staticClass:"text-secondary"},[e._v(e._s(e.datesColumn[r].date))])]),e._v(" "),e._l(e.daysQuotas,(function(o,l,c){return n("td",{key:l+t,staticClass:"text-center",class:{"pr-0":c===Object.keys(e.daysQuotas).length-1}},[null===o[r]?n("span",[e._v(" - ")]):e._e(),e._v(" "),null!==o[r]?n("v-checkbox",{staticClass:"mt-0",staticStyle:{display:"inline-block"},attrs:{"input-value":e.value[l][r],"true-value":!0,"false-value":!1,color:"primary",dense:"","hide-details":"auto"},on:{change:function(t){return e.onChange(t,l,r)}},scopedSlots:e._u([{key:"label",fn:function(){return[n("span",{staticClass:"mt-0"},[e._v("\n                  "+e._s(o[r].toFixed(2))+"\n                ")])]},proxy:!0}],null,!0)}):e._e()],1)}))],2)})):e._e()],2)]},proxy:!0}])})}),[],!1,null,"340ff643",null);t.default=component.exports;v()(component,{VCheckbox:_.a,VSimpleTable:y.a})},923:function(e,t,n){"use strict";n.r(t);n(11),n(10),n(15),n(16);var r=n(14),o=n(19),l=n(65),c=n(3),d=(n(60),n(29),n(32),n(13),n(4),n(33),n(45),n(262),n(12),n(467),n(198),n(1)),m=n(2),f=n.n(m),h=n(721),v=n(742),_=n(796),y=n(81),T=n(707),O=n(760);function A(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function E(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?A(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):A(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var I={name:"Schedule",components:{FertilizerDoseTable:h.default,ElementsTable:v.default,ScheduleDozeTable:_.default},data:function(){return{fertilizationType:h.FERTILIZATION_EVERY_DAY,tank:{name:null,volume:null,waterChangeVolume:null},recipesSelected:[],datesRange:[],selected:{},completed:{},completedWaterChange:{},isSchedule:!1,rulesDays:[function(e){return e>=2||"Период должен быть больше одного дня"}],rulesTank:[function(e){return!!e||"Выберите аквариум"}]}},created:function(){if(this.isCreate){var e=f()().format("YYYY-MM-DD"),t=f()().add(6,"days").format("YYYY-MM-DD");this.datesRange=[e,t]}else Object.assign(this.$data,JSON.parse(JSON.stringify(E({},this.schedules[this.scheduleIndex])))),this.isSchedule=!0},computed:E(E({},Object(y.d)(["tanks","recipes","fertilizers","schedules"])),{},{isCreate:function(){return"create"===this.$route.params.id},scheduleIndex:function(){return this.$route.params.id},isDefaultFertilizers:{get:function(){return this.$store.state.schedule.isDefaultFertilizers},set:function(e){this.$store.commit("SCHEDULE_SET_DEFAULT_FERTILIZERS",e),this.SNACKBAR_SHOW(e?"Фирменные удобрения добавлены в список":"Фирменные удобрения удалены из списка")}},defaultFertilizers:function(){var e=this;return O.a.map((function(t){return e.convertFertilizer(t)}))},items:function(){var e=[].concat(Object(l.a)(this.recipes),Object(l.a)(this.fertilizers));if(this.isDefaultFertilizers){var t=this.recipes.map((function(e){return e.name})),n=this.fertilizers.map((function(e){return e.name})),r=this.defaultFertilizers.filter((function(e){return![].concat(Object(l.a)(t),Object(l.a)(n)).includes(e.name)}));e.push.apply(e,Object(l.a)(r))}return e},isAmount:function(){return this.recipesSelected.length>0&&this.recipesSelected.every((function(e){return e.amount>0||e.amountDay>0}))},datesRangeSorted:function(){if(!this.datesRange)return[];var e=Object(l.a)(this.datesRange);return e.sort(),e},datesColumn:function(){var e=[];if(!this.daysTotal)return[];var t=new Date(this.datesRangeSorted[0]);return Object(l.a)(Array(this.daysTotal)).forEach((function(){var n=t.toLocaleDateString("ru-Ru",{month:"numeric",day:"numeric"}),r=t.toLocaleDateString("ru-Ru",{weekday:"short"});e.push({weekday:r,date:n}),t=new Date(t.setDate(t.getDate()+1))})),e},daysTotal:function(){return 2===this.datesRange.length?f()(this.datesRangeSorted[1]).diff(this.datesRangeSorted[0],"days")+1:0}}),watch:{recipesSelected:function(){var e=this;this.recipesSelected.forEach((function(t){t.name in e.selected||e.fertilizationType===h.FERTILIZATION_IN_TAP_WATER?t.name in e.completedWaterChange||e.fertilizationType!==h.FERTILIZATION_IN_TAP_WATER||(t.amount="",t.amountDay="",d.a.set(e.completedWaterChange,t.name,0)):(t.amount="",t.amountDay="",d.a.set(e.selected,t.name,Object(l.a)(Array(e.daysTotal).fill(!!t.amountDay,0,e.daysTotal))),d.a.set(e.completed,t.name,Object(l.a)(Array(e.daysTotal).fill(0,0,e.daysTotal))),d.a.set(e.completedWaterChange,t.name,0))}))}},methods:E(E({},Object(y.c)(["SCHEDULE_ADD","SCHEDULE_EDIT","SCHEDULE_REMOVE","SNACKBAR_SHOW"])),{},{convertIonName:T.c,convertIonRatio:T.d,isRecipe:T.m,onChooseTank:function(e){"object"===Object(o.a)(e)?this.tank=E({},e):(this.tank.name=e,this.tank.volume=+e)},onRecipeSelect:function(e){if(e.length>this.recipesSelected.length){var t=Object(l.a)(e);if("string"==typeof t.pop())return void(this.recipesSelected=t)}this.recipesSelected=e},convertFertilizer:function(e){var t={name:e.name,note:"",elements:E({},e.elements),isPercent:e.isPercent},n=Object(c.a)({},e.name,{});return Object.entries(e.elements).forEach((function(t){var o=Object(r.a)(t,2),l=o[0],c=o[1],d=e.isPercent?10:1;c&&["NO3","PO4","MgO","CaO"].includes(l)?n[e.name][T.b[l]]=Object(T.j)(l)*c*d:c&&"P2O5"===l?n[e.name].P=Object(T.j)(l)*c*d:c&&"K2O"===l?n[e.name].K=Object(T.j)(l)*c*d:c&&(n[e.name][l]=c*d)})),t.concentration=E({},n),t},onChangeFertilizationType:function(e){var t=this;this.fertilizationType=e,this.fertilizationType===h.FERTILIZATION_IN_TAP_WATER?this.recipesSelected.forEach((function(e){d.a.delete(t.selected,e.name),d.a.delete(t.completed,e.name),d.a.set(t.completedWaterChange,e.name,0)})):this.fertilizationType===h.FERTILIZATION_EVERY_DAY?this.recipesSelected.forEach((function(e){d.a.set(t.selected,e.name,Object(l.a)(Array(t.daysTotal).fill(!!e.amountDay,0,t.daysTotal))),d.a.set(t.completed,e.name,Object(l.a)(Array(t.daysTotal).fill(0,0,t.daysTotal))),d.a.delete(t.completedWaterChange,e.name)})):this.fertilizationType===h.FERTILIZATION_MIX&&this.recipesSelected.forEach((function(e){d.a.set(t.selected,e.name,Object(l.a)(Array(t.daysTotal).fill(!!e.amountDay,0,t.daysTotal))),d.a.set(t.completed,e.name,Object(l.a)(Array(t.daysTotal).fill(0,0,t.daysTotal))),d.a.set(t.completedWaterChange,e.name,0)}))},onChangeDatesRange:function(e){var t=this;this.datesRange=e,0!==e.length&&this.recipesSelected.forEach((function(e){t.fertilizationType===h.FERTILIZATION_EVERY_DAY?(d.a.set(t.selected,e.name,Object(l.a)(Array(t.daysTotal).fill(!!e.amountDay,0,t.daysTotal))),d.a.set(t.completed,e.name,Object(l.a)(Array(t.daysTotal).fill(0,0,t.daysTotal)))):t.fertilizationType===h.FERTILIZATION_IN_TAP_WATER?d.a.set(t.completedWaterChange,e.name,0):t.fertilizationType===h.FERTILIZATION_MIX&&(d.a.set(t.selected,e.name,Object(l.a)(Array(t.daysTotal).fill(!!e.amountDay,0,t.daysTotal))),d.a.set(t.completed,e.name,Object(l.a)(Array(t.daysTotal).fill(0,0,t.daysTotal))),d.a.set(t.completedWaterChange,e.name,0))}))},inputDose:function(e,t){d.a.set(this.recipesSelected,e,t),d.a.set(this.selected,t.name,Object(l.a)(Array(this.daysTotal).fill(!!t.amountDay,0,this.daysTotal)))},addSchedule:function(){this.$refs.scheduleForm.validate()&&(this.SCHEDULE_ADD({fertilizationType:this.fertilizationType,tank:this.tank,recipesSelected:this.recipesSelected,datesRange:this.datesRange,selected:this.selected,completed:this.completed,completedWaterChange:this.completedWaterChange,daysTotal:this.daysTotal,datesColumn:this.datesColumn}),this.SNACKBAR_SHOW("Расписание добавлено"),this.$router.push("/schedules/"))},editSchedule:function(){var e=this;this.$refs.scheduleForm.validate()&&(this.recipesSelected.forEach((function(t){e.fertilizationType===h.FERTILIZATION_EVERY_DAY?d.a.set(e.completed,t.name,Object(l.a)(Array(e.daysTotal).fill(0,0,e.daysTotal))):e.fertilizationType===h.FERTILIZATION_IN_TAP_WATER?d.a.set(e.completedWaterChange,t.name,0):e.fertilizationType===h.FERTILIZATION_MIX&&(d.a.set(e.completed,t.name,Object(l.a)(Array(e.daysTotal).fill(0,0,e.daysTotal))),d.a.set(e.completedWaterChange,t.name,0))})),this.SCHEDULE_EDIT({index:this.scheduleIndex,schedule:{fertilizationType:this.fertilizationType,tank:this.tank,recipesSelected:this.recipesSelected,datesRange:this.datesRange,selected:this.selected,completed:this.completed,completedWaterChange:this.completedWaterChange,daysTotal:this.daysTotal,datesColumn:this.datesColumn}}),this.SNACKBAR_SHOW("Расписание сохранено"),this.$router.push("/schedules/"))},removeSchedule:function(){this.SCHEDULE_REMOVE(this.scheduleIndex),this.SNACKBAR_SHOW("Расписание удалено"),this.$router.push("/schedules/")}})},P=n(37),C=n(46),N=n.n(C),F=n(264),R=n(694),S=n(762),w=n(705),j=n(903),D=n(684),M=n(131),x=n(782),k=n(247),L=n(695),z=n(752),Z=n(681),K=n(703),component=Object(P.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"mb-12"},[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-btn",{staticClass:"mr-0",attrs:{color:"primary",square:"",to:"/schedules/"}},[n("v-icon",[e._v("mdi-chevron-left")])],1)],1),e._v(" "),n("page-title",[e.isCreate?[e._v("\n        Новое расписание\n      ")]:[e._v("\n        Расписание для "+e._s(e.tank.name)+"\n      ")]],2),e._v(" "),n("v-col",{attrs:{cols:"12",md:"8","offset-md":"2"}},[n("v-form",{ref:"scheduleForm"},[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-combobox",{attrs:{items:e.tanks,value:e.tank.volume,"item-text":"name","item-value":"volume",label:"Выберите аквариум или введите объем","persistent-hint":"","hide-selected":"",hint:"Объем необходим для расчета дозировок","return-object":!0,rules:e.rulesTank},on:{input:e.onChooseTank}})],1),e._v(" "),n("v-expand-transition",[e.tank.volume?n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"d-flex flex-column flex-md-row align-md-center"},[n("v-combobox",{attrs:{items:e.items,value:e.recipesSelected,label:"Выберите удобрения","item-text":"name","persistent-hint":"",multiple:"","return-object":!0,hint:"* здесь собраны все ваши рецепты и удобрения.\n                    Нажмите «Фирменные» для просмотра полного списка."},on:{input:e.onRecipeSelect}}),e._v(" "),n("v-switch",{staticClass:"ml-md-4",attrs:{label:"Фирменные"},model:{value:e.isDefaultFertilizers,callback:function(t){e.isDefaultFertilizers=t},expression:"isDefaultFertilizers"}})],1)]):e._e()],1),e._v(" "),e.recipesSelected.length>0?n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"subtitle-1 text-sm-h6 my-4"},[e._v("\n              Подбор дозировок\n              "),n("v-tooltip",{attrs:{bottom:"","max-width":"400"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-icon",e._g({},r),[e._v("\n                    mdi-help-circle-outline\n                  ")])]}}],null,!1,847712320)},[e._v('\n                Подбирая объем выбранных рецептов, вы можете получить необходимую концентрацию элементов\n                в аквариуме. Таким образом вы можете подобрать ориентировочное значение, которое "съедают"\n                растения за заданный период времени.\n              ')])],1),e._v(" "),n("fertilizer-dose-table",{attrs:{"fertilization-type":e.fertilizationType,"recipes-selected":e.recipesSelected,days:e.daysTotal,"water-change-volume":e.tank.waterChangeVolume},on:{input:e.inputDose,change:e.onChangeFertilizationType,"water-change":function(t){e.tank.waterChangeVolume=t}}})],1):e._e(),e._v(" "),n("v-expand-transition",[e.recipesSelected.length>0?n("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[n("elements-table",{attrs:{"is-helpful-info":"","is-switchers":"","fertilization-type":e.fertilizationType,"recipes-selected":e.recipesSelected,"days-total":e.daysTotal,volume:e.tank.volume,"water-change-volume":e.tank.waterChangeVolume,tank:e.tank}})],1):e._e()],1),e._v(" "),e.isAmount?n("v-col",{staticClass:"mt-2 pb-0",attrs:{cols:"12"}},[n("div",{staticClass:"d-flex align-center my-3"},[n("v-divider"),e._v(" "),n("v-btn",{staticClass:"px-4",attrs:{center:"",text:""},on:{click:function(t){e.isSchedule=!e.isSchedule}}},[e._v("\n                Составить расписание\n                "),n("v-icon",[e._v(e._s(e.isSchedule?"mdi-chevron-up":"mdi-chevron-down"))])],1),e._v(" "),n("v-divider")],1)]):e._e(),e._v(" "),n("v-expand-transition",[e.isSchedule&&e.isAmount?n("v-col",{attrs:{cols:"12"}},[n("v-date-picker",{attrs:{value:e.datesRange,locale:"ru","no-title":"","first-day-of-week":"1","full-width":"",range:""},on:{input:e.onChangeDatesRange},scopedSlots:e._u([{key:"default",fn:function(){return[n("v-text-field",{attrs:{value:e.daysTotal,label:"Длительность периода",suffix:[2,3,4].includes(e.daysTotal)?"дня":"дней",rules:e.rulesDays,"hide-details":"auto",readonly:""}})]},proxy:!0}],null,!1,274941253)})],1):e._e()],1),e._v(" "),n("v-expand-transition",[e.isSchedule&&e.recipesSelected.length>0&&e.isAmount&&e.daysTotal?n("v-col",{attrs:{cols:"12"}},[n("schedule-doze-table",{key:Object.keys(e.selected).length,attrs:{"fertilization-type":e.fertilizationType,"dates-column":e.datesColumn,"days-total":e.daysTotal,"recipes-selected":e.recipesSelected},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1):e._e()],1),e._v(" "),n("v-expand-transition",[e.isSchedule&&e.recipesSelected.length>0&&e.isAmount&&e.daysTotal?n("v-col",{staticClass:"text-right",attrs:{cols:"12"}},[e.isCreate?n("v-btn",{attrs:{color:"primary"},on:{click:e.addSchedule}},[e._v("\n                Сохранить\n              ")]):e._e(),e._v(" "),e.isCreate?e._e():n("v-btn",{attrs:{color:"primary"},on:{click:e.removeSchedule}},[e._v("\n                Удалить\n              ")]),e._v(" "),e.isCreate?e._e():n("v-btn",{staticClass:"ml-2",attrs:{color:"primary"},on:{click:e.editSchedule}},[e._v("\n                Сохранить\n              ")])],1):e._e()],1)],1)],1)],1)],1)],1)}),[],!1,null,"31179b8b",null);t.default=component.exports;N()(component,{PageTitle:n(201).default,ElementsTable:n(742).default}),N()(component,{VBtn:F.a,VCol:R.a,VCombobox:S.a,VContainer:w.a,VDatePicker:j.a,VDivider:D.a,VExpandTransition:M.a,VForm:x.a,VIcon:k.a,VRow:L.a,VSwitch:z.a,VTextField:Z.a,VTooltip:K.a})}}]);