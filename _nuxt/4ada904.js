(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{707:function(t,e,n){"use strict";n.d(e,"h",(function(){return C})),n.d(e,"e",(function(){return _})),n.d(e,"k",(function(){return y})),n.d(e,"i",(function(){return k})),n.d(e,"g",(function(){return x})),n.d(e,"a",(function(){return j})),n.d(e,"b",(function(){return E})),n.d(e,"c",(function(){return S})),n.d(e,"d",(function(){return M})),n.d(e,"j",(function(){return N})),n.d(e,"m",(function(){return I})),n.d(e,"l",(function(){return P})),n.d(e,"n",(function(){return R})),n.d(e,"o",(function(){return F})),n.d(e,"f",(function(){return H}));n(10),n(13),n(15),n(16);var o=n(3),r=n(65),c=n(14),l=(n(4),n(12),n(263),n(198),n(11),n(33),n(45),n(29),n(32),n(262),n(199),n(706)),m=n(708),v=n(38),f=n(39),h=(n(24),n(48),n(34),n(79),n(55),function(){function t(e){Object(v.a)(this,t),this.formulaInit=e}return Object(f.a)(t,[{key:"mass",get:function(){var t=this,e=0;return Object.keys(this.composition).forEach((function(n){e+=l.a[n]*t.composition[n]})),e}},{key:"formula",get:function(){return t.replaceSupAndSub(this.formulaInit)}},{key:"composition",get:function(){var e=t.cleanParentheses(this.formula);return t.formulaToJson(e)}},{key:"simplifiedFormula",get:function(){return this.createSimplifiedFormula()}},{key:"createSimplifiedFormula",value:function(){var t="";return Object.entries(this.composition).forEach((function(e){var n=Object(c.a)(e,2),element=n[0],o=n[1];t+=element,1!==o&&(t+=o)})),t}}],[{key:"replaceSupAndSub",value:function(t){return t.replace(/[⁰¹²³⁴-⁹₀-₉]/g,(function(t){return t.charCodeAt(0).toString(16).slice(-1)}))}},{key:"isLowerCase",value:function(t){return/^[a-z]$/.test(t)}},{key:"isUpperCase",value:function(t){return/^[A-Z]$/.test(t)}},{key:"isNumber",value:function(t){return/^\d+$/.test(t)}},{key:"createComposition",value:function(t){var e={};return t.forEach((function(t){var n=Object(c.a)(t,2),element=n[0],o=n[1];element in e?e[element]+=+o:e[element]=+o})),e}},{key:"getParenthesisGroups",value:function(t){var e=[],n=[];return t.split("").forEach((function(t,o){"("===t&&e.push(o),")"===t&&n.push([e.pop(),o])})),n}},{key:"createElemList",value:function(e){var n=e.split(""),o="",r="",c=[];return n.forEach((function(e){0===o.length&&t.isUpperCase(e)?o=e:1===o.length&&t.isLowerCase(e)?o+=e:o.length>0&&(t.isNumber(e)?r+=e:t.isUpperCase(e)&&(0===r.length&&(r="1"),c.push([o,r]),o=e,r=""))})),0===r.length&&(r="1"),c.push([o,r]),c}},{key:"cleanParentheses",value:function(e){if(!e.includes("("))return e;for(var n=t.getParenthesisGroups(e)[0],o=Object(c.a)(n,2),r=o[0],l=o[1],m="",i=1;t.isNumber(e[l+i]);)m+=e[l+i],i+=1;0===m.length&&(m="1");var v=+m,f=e.substring(r+1,l),h=t.createElemList(f),d="";h.forEach((function(t){var e=Object(c.a)(t,2),element=e[0],n=e[1];d+=element,d+=n*v}));var O="(".concat(f,")");1!==v&&(O+=v);var C=e.replace(O,d);return t.cleanParentheses(C)}},{key:"formulaToJson",value:function(e){if(0===e.length)return{};var n=t.createElemList(e);return t.createComposition(n)}}]),t}());function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var C=function(t){var e={};return Object.values(t).forEach((function(t){Object.entries(t).forEach((function(t){var n=Object(c.a)(t,2),o=n[0],r=n[1];void 0===e[o]&&(e[o]=0),e[o]+=r}))})),e},_=function(t){var e=function(t){var e=0,n=m.a[t].ions;return Object.entries(n).forEach((function(t){var n=Object(c.a)(t,2),o=n[0],r=n[1];e+=l.a[o]*r.count})),e}(t),n={},o=m.a[t].ions;return Object.entries(o).forEach((function(t){var o=Object(c.a)(t,2),r=o[0],m=o[1];m.isNeeded&&(n[r]=l.a[r]*m.count/e)})),n},y=function(t){var e=!1;return Object.values(t).forEach((function(t){Object.keys(t).forEach((function(n){t[n]&&(e=!0)}))})),e},k=function(t){var e={};return Object.values(t).forEach((function(t){Object.keys(t).forEach((function(n){void 0===e[n]&&(e[n]=0),e[n]+=t[n]}))})),e},x=function(t){var e=0,n=k(t);return Object.keys(n).forEach((function(t){e+=n[t]})),e},w=function(t){var e,n=0;return Object(r.a)(t).forEach((function(t){n+=+t?l.a[e]*(parseInt(t,10)-1):l.a[t],e=t})),n},j={N:"NO3",NO3:"N",P:"PO4",PO4:"P",S:"SO4",SO4:"S"},E={NO3:"N",PO4:"P",P2O5:"P2",SO4:"S",K2O:"K2",MgO:"Mg",CaO:"Ca"},S=function(t){return j[t]||t},M=function(t){return S(t)!==t?w(S(t))/w(t):1},N=function(t){var e=new h(t).mass;return new h(E[t]).mass/e},I=function(t){return t.reagents&&t.reagents.length>0},P=function(t){return t.elements&&Object.keys(t.elements).length>0},R=function(){var filter=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return Object.entries(m.a).forEach((function(e){var n=Object(c.a)(e,2),o=n[0],data=n[1],r=!1;0!==filter.length?filter.forEach((function(element){o.includes(element)&&(r=!0)})):r=!0,r&&t.push(O({key:o,text:"".concat(data.name," - ").concat(o)},data))})),t.sort((function(a,b){return a.text.localeCompare(b.text)})),t},F=function(t,e){return t.sort((function(a,b){return a[e].localeCompare(b[e])})),t},H=function(t,e,n){var o=t[e],r=t[n];return o&&r?(o*M(e)/(r*M(n))).toFixed(2):"—"}},729:function(t,e,n){"use strict";e.a={Biolan:{ions:{N:.13,P:.013,K:.125,Fe:.0017,Mg:.018,B:1e-4,Zn:4e-4,Cu:4e-4,Mo:1e-4},name:"Biolan Удобрение для орхидей RAIN MIX"},PlantexCSM:{ions:{Fe:.07,Mn:.02,Mg:.015,Zn:.004,Cu:.001,Mo:6e-4},name:"Plantex® C.S.M."},PlantexCMM:{ions:{Fe:.07,Mn:.02,B:.013,Zn:.004,Cu:.001,Mo:6e-4},name:"Plantex® C.M.M."},AgroMicsT:{ions:{Fe:.07,Mn:.033,B:.0065,Zn:.006,Cu:.0027,Mo:.002},name:"АгроМикс T"},"Fe-EDTA13":{ions:{Fe:.13},name:"ЭДТА Железо 13%"},"Fe-EDDGA6":{ions:{Fe:.06},name:"ЭДДГА Железо 6%"},"Fe-DTPA11":{ions:{Fe:.11},name:"ДТПА Железо 11%"},"Mn-EDTA13":{ions:{Mn:.13},name:"ЭДТА Марганец 13%"},"Ca-EDTA10":{ions:{Ca:.1},name:"ЭДТА Кальций 10%"},"Mg-EDTA6":{ions:{Mg:.06},name:"ЭДТА Магний 6%"},"Co-EDTA13":{ions:{Co:.13},name:"ЭДТА Кобальт 13%"},"Zn-EDTA15":{ions:{Zn:.15},name:"ЭДТА Цинк 15%"},"Cu-EDTA15":{ions:{Cu:.15},name:"ЭДТА Медь 15%"},"B12-liquid":{ions:{},isLiquid:!0,name:"Цианокобаламин B12 (жидкий)"},"B12-solid":{ions:{},name:"Цианокобаламин B12 (порошок)"},Ferovit:{ions:{Fe:.075,N:.04},isLiquid:!0,name:"Феровит"},Citovit:{ions:{N:.03,P:.005,K:.025,Mg:.01,S:.04,Fe:.035,Mn:.03,B:.008,Zn:.006,Cu:.006,Mo:.004,Co:.002},isLiquid:!0,name:"Цитовит"},AquaMicsCT:{ions:{Fe:.0384,Mn:.0257,Zn:.0053,Ca:.0257,B:.0052,Mo:.0013,Cu:.0053},isLiquid:!1,name:"Аквамикс СТ (порошок)"},AquaMics:{ions:{Fe:.0058,Mn:.0039,Zn:8e-4,Ca:.0039,B:79e-5,Mo:19e-5,Cu:8e-4},isLiquid:!0,name:"Аквамикс (раствор)"},AquarinUniversal:{ions:{N:.18,P:.0786,K:.1494,S:.015,Fe:54e-5,Mn:42e-5,Mg:.012064,B:2e-4,Zn:14e-5,Cu:1e-4,Mo:4e-5},name:'Акварин "Универсальный"'},BrexilFe:{ions:{Fe:.1},name:"Brexil Fe 10%"},BrexilMn:{ions:{Mn:.1},name:"Brexil Mn 10%"},BrexilCombi:{ions:{Fe:.068,Mn:.026,B:.009,Zn:.011,Cu:.003,Mo:.002},name:"Brexil Combi"}}},783:function(t,e,n){var content=n(870);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("261943f2",content,!0,{sourceMap:!1})},789:function(t,e,n){"use strict";n.r(e);n(198),n(262);var o=n(707),r={name:"ElementsTable",props:{totalIonConcentration:{type:Object,default:function(){}},fertilizerMass:{type:Object,default:function(){}},concentration:{type:Object,default:function(){}}},data:function(){return{isConcentrationPercent:!1,isConvertion:!1}},computed:{totalIonConcentrationSorted:function(){var t=Object.entries(this.totalIonConcentration);return t.sort((function(a,b){return b[1]-a[1]})),t},No3Po4Ratio:function(){return Object(o.f)(this.totalIonConcentration,"N","P")},No3KRatio:function(){return Object(o.f)(this.totalIonConcentration,"N","K")},CaMgRatio:function(){return Object(o.f)(this.totalIonConcentration,"Ca","Mg")}},methods:{convertIonRatio:o.d,convertIonName:o.c,countPercent:o.e}},c=n(37),l=n(46),m=n.n(l),v=n(738),f=n(752),h=n(681),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"d-flex mt-1",class:{"flex-column":t.$vuetify.breakpoint.xs,"flex-row":t.$vuetify.breakpoint.smAndUp}},[n("v-switch",{staticClass:"mr-4",attrs:{label:"Показать соотношение","hide-details":"auto"},model:{value:t.isConcentrationPercent,callback:function(e){t.isConcentrationPercent=e},expression:"isConcentrationPercent"}}),t._v(" "),n("v-switch",{staticClass:"mr-4",attrs:{label:"Показать N и P","hide-details":"auto"},model:{value:t.isConvertion,callback:function(e){t.isConvertion=e},expression:"isConvertion"}})],1),t._v(" "),n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"pl-0 text-center"},[t._v("\n            Реагент\n          ")]),t._v(" "),t._l(t.totalIonConcentrationSorted,(function(e,o){var r=e[0];return n("th",{key:r,staticClass:"text-center",class:{"pr-0":o===t.totalIonConcentrationSorted.length-1}},[n("div",{staticStyle:{"white-space":"nowrap"}},[t.isConvertion&&r!==t.convertIonName(r)?[t._v("\n                "+t._s(r)+" /\n              ")]:t._e(),t._v(" "),r!==t.convertIonName(r)?[t._v("\n                "+t._s(t.convertIonName(r))+", г/л\n              ")]:[t._v("\n                "+t._s(r)+", г/л\n              ")]],2)])}))],2)]),t._v(" "),n("tbody",[t._l(Object.keys(t.concentration),(function(e){return n("tr",{key:e},[n("td",{staticClass:"pl-0 text-center"},[t._v("\n            "+t._s(e)+"\n          ")]),t._v(" "),t._l(t.totalIonConcentrationSorted,(function(o,r){var c=o[0],l=o[1];return n("td",{key:e+c,staticClass:"text-center",class:{"pr-0":r===Object.keys(t.concentration).length-1}},[Object.keys(t.concentration[e]).includes(c)?[t.isConvertion&&c!==t.convertIonName(c)?[t._v("\n                "+t._s(t.concentration[e][c].toFixed(3))+" /\n              ")]:t._e(),t._v(" "),c!==t.convertIonName(c)?[t._v("\n                "+t._s((t.convertIonRatio(c)*t.concentration[e][c]).toFixed(3))+"\n              ")]:[t._v("\n                "+t._s(t.concentration[e][c].toFixed(3))+"\n              ")],t._v(" "),l&&t.isConcentrationPercent?[t._v("\n                ("+t._s((t.concentration[e][c]/l*100).toFixed(1))+"%)\n              ")]:t._e()]:[t._v("\n              -\n            ")]],2)}))],2)})),t._v(" "),n("tr",{staticClass:"font-weight-bold"},[n("td",{staticClass:"pl-0 text-center"},[t._v("\n            Сумма\n          ")]),t._v(" "),t._l(t.totalIonConcentrationSorted,(function(e,o){var r=e[0],c=e[1];return[r!==t.convertIonName(r)?n("td",{key:r,staticClass:"text-center",class:{"pr-0":o===t.totalIonConcentrationSorted.length-1}},[t.isConvertion&&r!==t.convertIonName(r)?[t._v("\n                "+t._s(c.toFixed(3))+" /\n              ")]:t._e(),t._v("\n              "+t._s((t.convertIonRatio(r)*c).toFixed(3))+"\n            ")],2):n("td",{key:r,staticClass:"text-center",class:{"pr-0":o===t.totalIonConcentration.length-1}},[t._v("\n              "+t._s(c.toFixed(3))+"\n            ")])]}))],2)],2)]},proxy:!0}])}),t._v(" "),n("div",{staticClass:"d-flex mt-2"},[n("v-text-field",{attrs:{value:t.No3Po4Ratio,label:"No3 / Po4","hide-details":"auto",readonly:"",outlined:""}}),t._v(" "),n("v-text-field",{staticClass:"ml-2",attrs:{value:t.No3KRatio,label:"No3 / K","hide-details":"auto",readonly:"",outlined:""}}),t._v(" "),n("v-text-field",{staticClass:"ml-2",attrs:{value:t.CaMgRatio,label:"Ca / Mg","hide-details":"auto",readonly:"",outlined:""}})],1)],1)}),[],!1,null,"6b090864",null);e.default=component.exports;m()(component,{VSimpleTable:v.a,VSwitch:f.a,VTextField:h.a})},790:function(t,e,n){"use strict";n.r(e);var o=n(14),r=(n(23),n(198),n(262),n(4),n(12),n(707)),c={name:"ElementsDryTable",props:{totalIonConcentration:{type:Object,default:function(){}},fertilizerMass:{type:Object,default:function(){}},totalFertilizerMass:{type:Number,default:0}},data:function(){return{isConcentrationPercent:!1,isConvertion:!1}},computed:{totalIonConcentrationSorted:function(){var t=Object.entries(this.totalIonConcentration);return t.sort((function(a,b){return b[1]-a[1]})),t},totalUsefulConcentration:function(){var t=this,e=0;return this.totalIonConcentrationSorted.forEach((function(n){var r=Object(o.a)(n,2),c=r[0],l=r[1];e+=t.convertIonRatio(c)*l})),e}},methods:{convertIonRatio:r.d,convertIonName:r.c,countPercent:r.e}},l=n(37),m=n(46),v=n.n(m),f=n(738),h=n(752),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"d-flex mt-2 mb-2",class:{"flex-column":t.$vuetify.breakpoint.xs,"flex-row":t.$vuetify.breakpoint.smAndUp}},[n("v-switch",{staticClass:"mr-4",attrs:{label:"Показать соотношение","hide-details":"auto"},model:{value:t.isConcentrationPercent,callback:function(e){t.isConcentrationPercent=e},expression:"isConcentrationPercent"}}),t._v(" "),n("v-switch",{staticClass:"mr-4",attrs:{label:"Показать N и P","hide-details":"auto"},model:{value:t.isConvertion,callback:function(e){t.isConvertion=e},expression:"isConvertion"}})],1),t._v(" "),n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"pl-0 text-center"},[t._v("\n            Реагент\n          ")]),t._v(" "),t._l(Object.keys(t.totalIonConcentration),(function(e,o){return n("th",{key:e,staticClass:"text-center",class:{"pr-0":o===t.totalIonConcentration.length-1}},[t.isConvertion&&e!==t.convertIonName(e)?[t._v("\n              "+t._s(e)+" /\n            ")]:t._e(),t._v(" "),e!==t.convertIonName(e)?[t._v("\n              "+t._s(t.convertIonName(e))+", г\n            ")]:[t._v("\n              "+t._s(e)+", г\n            ")]],2)}))],2)]),t._v(" "),n("tbody",[t._l(t.fertilizerMass,(function(e,o){return n("tr",{key:o},[n("td",{staticClass:"pl-0 text-center"},[t._v("\n            "+t._s(o)+"\n          ")]),t._v(" "),t._l(t.totalIonConcentration,(function(r,c,l){return n("td",{key:o+c,staticClass:"text-center",class:{"pr-0":l===t.totalIonConcentration.length-1}},[Object.keys(t.countPercent(o)).includes(c)?[t.isConvertion&&c!==t.convertIonName(c)?[t._v("\n                "+t._s((e*t.countPercent(o)[c]).toFixed(3))+" /\n              ")]:t._e(),t._v(" "),c!==t.convertIonName(c)?[t._v("\n                "+t._s((t.convertIonRatio(c)*e*t.countPercent(o)[c]).toFixed(3))+"\n              ")]:[t._v("\n                "+t._s((e*t.countPercent(o)[c]).toFixed(3))+"\n              ")],t._v(" "),r&&t.isConcentrationPercent?[t._v("\n                ("+t._s((e*t.countPercent(o)[c]/(r*t.totalFertilizerMass)*100).toFixed(1))+"%)\n              ")]:t._e()]:[t._v("\n              -\n            ")]],2)}))],2)})),t._v(" "),n("tr",{staticClass:"font-weight-bold"},[n("td",{staticClass:"pl-0 text-center"},[t._v("\n            Сумма\n          ")]),t._v(" "),t._l(t.totalIonConcentration,(function(e,o,r){return[o!==t.convertIonName(o)?n("td",{key:o,staticClass:"text-center",class:{"pr-0":r===t.totalIonConcentration.length-1}},[t.isConvertion&&o!==t.convertIonName(o)?[t._v("\n                "+t._s((e*t.totalFertilizerMass).toFixed(3))+" /\n              ")]:t._e(),t._v("\n              "+t._s((t.convertIonRatio(o)*e*t.totalFertilizerMass).toFixed(3))+"\n            ")],2):n("td",{key:o,staticClass:"text-center",class:{"pr-0":r===t.totalIonConcentration.length-1}},[t._v("\n              "+t._s((e*t.totalFertilizerMass).toFixed(3))+"\n            ")])]}))],2)],2)]},proxy:!0}])}),t._v(" "),n("div",t._l(t.totalIonConcentration,(function(e,o){return n("span",{key:o,staticClass:"mr-2"},[t._v("\n      "+t._s(t.convertIonName(o))+"\n      ("+t._s(e?(t.convertIonRatio(o)*e/t.totalUsefulConcentration*100).toFixed(3):"???")+" %)\n    ")])})),0)],1)}),[],!1,null,"01f727e2",null);e.default=component.exports;v()(component,{VSimpleTable:f.a,VSwitch:h.a})},869:function(t,e,n){"use strict";n(783)},870:function(t,e,n){var o=n(20)(!1);o.push([t.i,".flip-list-move{transition:transform .5s}.ghost{opacity:.5;background:#c8ebfb}",""]),t.exports=o},905:function(t,e,n){"use strict";n.r(e);n(10),n(15),n(16);var o=n(65),r=n(3),c=n(14),l=n(22),m=(n(73),n(11),n(4),n(12),n(33),n(45),n(198),n(29),n(32),n(262),n(263),n(60),n(86),n(13),n(199),n(93),n(1)),v=n(708),f=n(729),h=[{name:"Kuban Aquariums Нитрат",reagents:{KNO3:49.71,"(NH2)2CO":5.02,NH4NO3:6.71,C6H7KO2:.5},tankVolume:100,volume:1e3,note:"Рецепт взят с youtube канала Kuban Aquariums (https://www.youtube.com/watch?v=Vyq-R0tv384)"},{name:"Kuban Aquariums Фосфат",reagents:{KH2PO4:7.01,C6H7KO2:.5},tankVolume:100,volume:1e3,note:"Рецепт взят с youtube канала Kuban Aquariums (https://www.youtube.com/watch?v=Vyq-R0tv384)"},{name:"Kuban Aquariums Калий",reagents:{K2SO4:84.76,C6H7KO2:.5},tankVolume:100,volume:1e3,note:"Рецепт взят с youtube канала Kuban Aquariums (https://www.youtube.com/watch?v=Vyq-R0tv384)"},{name:"Kuban Aquariums Микро",reagents:{H3BO3:.7,"C10H14N2Na2O8(H2O)2":3,"MgSO4(H2O)7":30,K2SO4:20,C6H8O6:.1,C6H7KO2:.5},compounds:{AgroMicsT:11,"Fe-EDTA13":5.6},volume:1e3,note:"Рецепт взят с youtube канала Kuban Aquariums (https://www.youtube.com/watch?v=Vyq-R0tv384)"},{name:"Aqua Botanic Нитрат",reagents:{KNO3:82.88},tankVolume:100,volume:1e3,note:"Чистая калиевая селитра. Рецепт взят с сайта aqua-botanic.ru(https://web.archive.org/web/20131206073940/http://www.aqua-botanic.ru/index.html)"},{name:"Aqua Botanic Нитрат+",reagents:{KNO3:49.71,"(NH2)2CO":5.02,NH4NO3:6.71},tankVolume:100,volume:1e3,note:"Калиевая селитра, разбавленная мочевиной и нитратом аммония. Рецепт взят с сайта aqua-botanic.ru(https://web.archive.org/web/20131206073940/http://www.aqua-botanic.ru/index.html)"},{name:"Aqua Botanic Фосфат",reagents:{KH2PO4:7.01},tankVolume:100,volume:1e3,note:"Чистый монофосфат калия. Рецепт взят с сайта aqua-botanic.ru(https://web.archive.org/web/20131206073940/http://www.aqua-botanic.ru/index.html)"},{name:"Aqua Botanic Калий",reagents:{K2SO4:84.76},tankVolume:100,volume:1e3,note:"Чистый сульфат калия. Рецепт взят с сайта aqua-botanic.ru(https://web.archive.org/web/20131206073940/http://www.aqua-botanic.ru/index.html)"},{name:"Aqua Botanic Микро",reagents:{C6H8O7:30,"FeSO4(H2O)7":10,"MnSO4(H2O)5":.5,"CuSO4(H2O)5":.05,"ZnSO4(H2O)7":.6,"MgSO4(H2O)7":10.54,H3BO3:.3,K2SO4:8.6,C63H88CoN14O14P:.001},compounds:{Citovit:6,Ferovit:6},volume:1e3,note:"Рецепт взят с сайта aqua-botanic.ru\n(https://web.archive.org/web/20131206073940/http://www.aqua-botanic.ru/index.html):\n\nС помощью мерного стакана отмеряем 700 мл дистиллированной воды или воды из фильтра с обратным осмосом.\nВоду предварительно кипятим и растворяем\n\n* Лимонную кислоту 30 грамм\n* Сульфат железа - 10 грамм\n* Сульфат марганца - 0.5 грамм\n* Сульфат меди - 0.05 грамм\n* Сульфат цинка - 0.6 грамм\n* Сульфат магния - 10.54 грамма\n* сделать паузу в 1 час.\n* Борная кислота - 0.3 грамма\n* Сульфат калия - 8.6 грамма\n* Цитовит 4 ампулы\n* Феровит - 4 ампулы\n* Витамин B12 2 ампулы\n* Серная кислота - 20 мл.\n\nВажно! Можно вливать только кислоту в воду, а не наоборот.\nПри желании, серную кислоту можно заменить на Сайдекс (2.5% раствор глутарового альдегида) в\nколичестве 200-250 мл. Долить воду в раствор с удобрением до отметки 1 литр. Воду можно не кипятить.\n\nРастворять каждый последующий реактив можно только после того, как полностью растворится предыдущий."},{name:"NPK Amania.org 1:15",reagents:{KNO3:106.45,KH2PO4:5.77},tankVolume:100,volume:1e3,note:"Макро в соотношении 1 к 15. Рецепт взят с сайта amania.org"},{name:"NPK Amania.org 1:15 + амидный азот",reagents:{KNO3:53.6,"(NH2)2CO":16,KH2PO4:5.77},tankVolume:100,volume:1e3,note:"Макро в соотношении 1 к 15. Калиевая селитра в соотношении 50 на 50 с мочевиной. Рецепт взят с сайта amania.org"},{name:"Удо Ермолаева. МИКРО",reagents:{K2SO4:7.45,"MgSO4(H2O)7":16.4,"Fe2(SO4)3(H2O)9":1.45,"CuSO4(H2O)5":.1,"ZnSO4(H2O)7":.04,H3BO3:.1,"(NH4)2MoO4":.04,"MnSO4(H2O)5":.73,C10H14N2Na2O8:2.5},tankVolume:100,volume:500,note:"Микро. Рецепт - https://aquascape-promotion.com/udobreniya-svoimi-rukami"},{name:"Удо Ермолаева. МИКРО (gh < 7)",reagents:{K2SO4:7.45,"MgSO4(H2O)7":16.4,"Fe2(SO4)3(H2O)9":1.45,"CuSO4(H2O)5":.1,"ZnSO4(H2O)7":.04,H3BO3:.1,"(NH4)2MoO4":.04,"MnSO4(H2O)5":.73,C10H14N2Na2O8:1.75},tankVolume:100,volume:500,note:"Микро. Рецепт - https://aquascape-promotion.com/udobreniya-svoimi-rukami"},{name:"Удо Ермолаева. МИКРО (Железный купорос)",reagents:{K2SO4:7.45,"MgSO4(H2O)7":16.4,"FeSO4(H2O)7":1.44,"CuSO4(H2O)5":.1,"ZnSO4(H2O)7":.04,H3BO3:.1,"(NH4)2MoO4":.04,"MnSO4(H2O)5":.73,C10H14N2Na2O8:1.75,C14H18N3O10Na2Fe:1},tankVolume:100,volume:500,note:"Микро. Рецепт - https://aquascape-promotion.com/udobreniya-svoimi-rukami"},{name:"Pps-pro Macro",reagents:{K2SO4:29.3,KNO3:32.6,KH2PO4:2.9,"MgSO4(H2O)7":20.2},volume:500,note:"Рецепт взят с сайта https://sites.google.com/site/aquaticplantfertilizer/pps-pro. Методика там же"},{name:"Pps-pro Micro",compounds:{PlantexCMM:28.6},volume:500,note:"Рецепт взят с сайта https://sites.google.com/site/aquaticplantfertilizer/pps-pro. Методика там же"},{name:"PMDD CMM",reagents:{K2SO4:33,KNO3:15,"MgSO4(H2O)7":15},compounds:{PlantexCMM:9.93},volume:500,note:"http://www.amania.org/Tech/liqfert-mikom.html"},{name:"PMDD CSM + B",reagents:{K2SO4:33,KNO3:15,"MgSO4(H2O)7":15,H3BO3:.714},compounds:{PlantexCSM:9.93},volume:500,note:"http://www.amania.org/Tech/liqfert-mikom.html"},{name:"Удар Макро",reagents:{KNO3:82,KH2PO4:7,C6H7KO2:.5},volume:1e3},{name:"Удар Микро",reagents:{H3BO3:.7,"C10H14N2Na2O8(H2O)2":3,"MgSO4(H2O)7":30,K2SO4:20,C6H8O6:3,C6H7KO2:.5},compounds:{AgroMicsT:11,"Fe-EDTA13":5.6},volume:1e3}],d=n(707),O=n(81),C=n(789),_=n(790);function y(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function k(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var x={name:"Recipe",components:{TheElementsTable:C.default,TheElementsDryTable:_.default},data:function(){var t=this;return{FORMULAS:v.a,COMPOUNDS:f.a,RECIPES:h,OPPOSITE:d.a,reagents:[],compounds:[],searchReagent:"",searchCompound:"",recipeExampleChosen:null,volume:null,tankVolume:null,mass:{},solute:{},name:"",note:null,isShared:!1,isWater:!0,rulesReagent:[function(){return t.reagents.length>0||t.compounds.length>0||"Выберите реагент"}],rulesMass:{isExist:function(){return function(t){return!!t||"Введите массу"}}},rulesVolume:{isExist:function(){return function(t){return!!t||"Введите объем удобрения"}}},rulesName:[function(t){return!!t||"Введите название"},function(){return!t.isExist||"Рецепт или удобрение с таким названием уже существует"}]}},mounted:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,o,r,l,m,v,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isCreate||t.isCopy){e.next=2;break}return e.abrupt("return");case 2:if((o=t.$router.currentRoute.query.share)?(t.isShared=!0,r=JSON.parse(decodeURIComponent(o)),l=Object(c.a)(r,1),n=l[0]):t.isCopy?(m=t.$route.query.copy,n=JSON.parse(JSON.stringify(k({},t.recipes[m])))):t.isCreate||(n=JSON.parse(JSON.stringify(k({},t.recipes[t.recipeIndex])))),0!==Object.keys(n).length){e.next=7;break}return e.next=7,t.$router.push("/recipes/");case 7:v=[],f=[],t.formulas.forEach((function(t){n.reagents&&n.reagents.includes(t.key)&&v.push(t)})),t.compoundsList.forEach((function(t){n.compounds&&n.compounds.includes(t.key)&&f.push(t)})),delete n.reagents,delete n.compounds,Object.assign(t.$data,n),t.reagents=v,t.compounds=f,t.isWater=n.volume>0;case 17:case"end":return e.stop()}}),e)})))()},computed:k(k({},Object(O.d)(["tanks","recipes","fertilizers"])),{},{isCreate:function(){return"create"===this.$route.params.id},isCopy:function(){return void 0!==this.$route.query.copy},isShare:function(){return"share"===this.$route.params.id},recipeIndex:function(){return this.$route.params.id},formulas:function(){var t=[];return Object.entries(v.a).forEach((function(e){var n=Object(c.a)(e,2),o=n[0],data=n[1];t.push(k({key:o,text:"".concat(data.name," - ").concat(o)},data))})),t.sort((function(a,b){return a.text.localeCompare(b.text)})),t},compoundsList:function(){var t=[];return Object.entries(f.a).forEach((function(e){var n=Object(c.a)(e,2),o=n[0],data=n[1];t.push(k({key:o,text:data.name},data))})),t.sort((function(a,b){return a.text.localeCompare(b.name)})),t},recipesExamples:function(){var t=[];return h.forEach((function(e){t.push(e.name)})),t.sort((function(a,b){return a.localeCompare(b)})),t},isReagents:function(){return this.reagents.length>0||this.compounds.length>0},totalFertilizerMass:function(){return Object.values(this.mass).reduce((function(t,e){return t+ +e}))},concentration:function(){var t=this,e={};return this.isReagents&&Object.keys(this.mass).length>0&&(this.reagents.forEach((function(n){e[n.key]={};var o=n.ions,r=n.HCO3;Object.entries(o).forEach((function(o){var l=Object(c.a)(o,2),m=l[0];if(l[1].isNeeded){var v=1;t.volume?v=1/(t.volume/1e3):t.volume||(v=1/t.totalFertilizerMass),"CO3"===m&&r&&(v*=r),e[n.key][m]=t.mass[n.key]*t.countPercent(n.key)[m]*v}}))})),this.compounds.forEach((function(n){e[n.key]={};var o=n.ions;Object.entries(o).forEach((function(o){var r=Object(c.a)(o,2),l=r[0],m=r[1],v=1;t.volume?v=1/(t.volume/1e3):t.volume||(v=1/t.totalFertilizerMass),e[n.key][l]=t.mass[n.key]*m*v}))}))),e},totalIonConcentration:function(){return this.countTotalIonConcentration(this.concentration)},isEdit:function(){return this.recipes.map((function(t){return t.name})).indexOf(this.name)===+this.recipeIndex},isExist:function(){var t=this,e=this.recipes.map((function(t){return t.name})),n=this.fertilizers.map((function(t){return t.name})),o=e.find((function(e){return e===t.name})),r=n.find((function(e){return e===t.name})),c=o||r;return c&&!this.isEdit},ionTotalDoseSorted:function(){var t=Object.entries(Object(d.i)(this.solute));return t.sort((function(a,b){return b[1]-a[1]})),t}}),watch:{reagents:function(t,e){var n=this;t.length<e.length&&e.filter((function(e){return!t.includes(e)})).forEach((function(t){delete n.mass[t.key]}));if(!this.name&&1===this.reagents.length){var o=this.reagents[0];this.name=o.key}var r={};this.reagents.forEach((function(t){var e=t.ions;r[t.key]={},Object.entries(e).forEach((function(e){var n=Object(c.a)(e,2),o=n[0];n[1].isNeeded&&(r[t.key][o]=0)}))})),this.solute=k({},r);var l=k({},this.mass);this.reagents.forEach((function(t){t.key in l||(l[t.key]=0)})),this.mass=k({},l),this.volume&&this.countDose()},compounds:function(t,e){var n=this;t.length<e.length&&e.filter((function(e){return!t.includes(e)})).forEach((function(t){delete n.mass[t.key]}));this.name||1!==this.compounds.length||(this.name=this.compounds[0].key);var o={};this.compounds.forEach((function(t){var e=t.ions;o[t.key]={},Object.keys(e).forEach((function(e){o[t.key][e]=0}))})),this.solute=k({},o);var r=k({},this.mass);this.compounds.forEach((function(t){t.key in r||(r[t.key]=0)})),this.mass=k({},r),this.volume&&this.countDose()},recipeExampleChosen:function(){var t=this,e=this.RECIPES.find((function(e){return e.name===t.recipeExampleChosen}));if(this.mass={},e){var n=[];this.formulas.forEach((function(t){e.reagents&&t.key in e.reagents&&n.push(t)}));var o=[];this.compoundsList.forEach((function(t){e.compounds&&t.key in e.compounds&&o.push(t)})),this.reagents=n,this.compounds=o,this.name=e.name,this.note=e.note,this.volume=e.volume,this.tankVolume=e.tankVolume,e.reagents&&Object.entries(e.reagents).forEach((function(e){var n=Object(c.a)(e,2),o=n[0],r=n[1];t.mass[o]=r})),e.compounds&&Object.entries(e.compounds).forEach((function(e){var n=Object(c.a)(e,2),o=n[0],r=n[1];t.mass[o]=r})),this.isWater=e.volume>0}},tankVolume:function(){this.volume&&this.countDose()}},methods:k(k({},Object(O.c)(["RECIPE_ADD","RECIPE_REMOVE","RECIPE_EDIT","SNACKBAR_SHOW"])),{},{countTotalIonConcentration:d.h,countTotalIonDose:d.i,countTotalDose:d.g,isConcentration:d.k,countPercent:d.e,convertIonName:d.c,convertIonRatio:d.d,countDose:function(){var t=this;this.reagents.forEach((function(e){var n=e.ions,o={};Object.entries(n).forEach((function(n){var r=Object(c.a)(n,2),l=r[0];r[1].isNeeded&&(o[l]=t.mass[e.key]/t.volume/t.tankVolume*(t.countPercent(e.key)[l]*t.convertIonRatio(l)*1e3),m.a.set(t.solute,e.key,o))}))})),this.compounds.forEach((function(e){var n=e.ions,o={};Object.entries(n).forEach((function(n){var r=Object(c.a)(n,2),l=r[0],v=r[1];o[l]=t.mass[e.key]/t.volume/t.tankVolume*(v*t.convertIonRatio(l)*1e3),m.a.set(t.solute,e.key,o)}))}))},setIsWater:function(t){this.isWater=t,this.volume=null,this.tankVolume=null},showComponents:function(t){var output=[];return Object.entries(t).forEach((function(t){var e=Object(c.a)(t,2),n=e[0],o=e[1];output.push("".concat(n,": ").concat((100*o).toFixed(2),"%"))})),output.join(" ")},inputMass:function(t,e){var n=+t;m.a.set(this.mass,e,n||""),this.tankVolume&&+n&&this.countDose()},inputVolume:function(t){this.volume=+t,this.tankVolume&&+t&&this.countDose()},isFormula:function(t){return t in v.a},inputIonDose:function(t,e,n){var o=this,r={},c={};Object.keys(this.solute[e]).forEach((function(t){c[t]=o.convertIonRatio(t)})),Object.keys(this.solute[e]).forEach((function(l){var v=parseFloat(t);l!==n&&(c[n]>1?v/=c[n]:v*=c[l],o.isFormula(e)?v*=o.countPercent(e)[l]/o.countPercent(e)[n]:v*=f.a[e].ions[l]/f.a[e].ions[n]),r[l]=+v||0,m.a.set(o.solute,e,r)}));var l=k({},this.mass),v=0;v=this.solute[e][n]?this.isFormula(e)?this.solute[e][n]*this.tankVolume*this.volume/1e3/this.countPercent(e)[n]/this.convertIonRatio(n):this.solute[e][n]*this.tankVolume*this.volume/1e3/f.a[e].ions[n]/this.convertIonRatio(n):0,l[e]=v,this.mass=k({},l)},addRecipe:function(){this.$refs.recipeForm.validate()&&(this.RECIPE_ADD({name:this.name,note:this.note,volume:this.volume,tankVolume:this.tankVolume,reagents:Object(o.a)(this.reagents.map((function(t){return t.key}))),compounds:Object(o.a)(this.compounds.map((function(t){return t.key}))),mass:k({},this.mass),concentration:k({},this.concentration)}),this.SNACKBAR_SHOW("Рецепт добавлен"),this.$router.push("/recipes/"))},editRecipe:function(){this.$refs.recipeForm.validate()&&(this.RECIPE_EDIT({index:this.recipeIndex,recipe:{name:this.name,note:this.note,volume:this.volume,tankVolume:this.tankVolume,reagents:Object(o.a)(this.reagents.map((function(t){return t.key}))),compounds:Object(o.a)(this.compounds.map((function(t){return t.key}))),mass:k({},this.mass),concentration:k({},this.concentration)}}),this.SNACKBAR_SHOW("Рецепт изменен"),this.$router.push("/recipes/"))},copyRecipe:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.SNACKBAR_SHOW("Рецепт скопирован"),e.next=3,t.$router.push("/recipes/create/?copy=".concat(t.recipeIndex));case 3:case"end":return e.stop()}}),e)})))()},removeRecipe:function(){this.RECIPE_REMOVE(this.recipeIndex),this.SNACKBAR_SHOW("Рецепт удален"),this.$router.push("/recipes/")}})},w=(n(869),n(37)),j=n(46),E=n.n(j),S=n(264),M=n(694),N=n(762),I=n(705),P=n(684),R=n(131),F=n(782),H=n(247),V=n(733),A=n(734),K=n(695),D=n(681),T=n(901),B=n(703),component=Object(w.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"mb-12"},[n("v-row",[n("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-btn",{staticClass:"mr-0",attrs:{color:"primary",square:"",to:"/recipes/"}},[n("v-icon",[t._v("mdi-chevron-left")])],1),t._v(" "),t.isCreate||t.isShare?t._e():n("v-btn",{staticClass:"ml-auto",attrs:{color:"primary"},on:{click:t.copyRecipe}},[t._v("\n        Скопировать\n      ")])],1),t._v(" "),n("page-title",[t.isCreate&&!t.isCopy?[t._v("\n        Новый рецепт\n      ")]:t.isCopy?[n("div",{staticClass:"text-h5 text-md-h4"},[t._v("\n          Это копия рецепта "+t._s(t.name)+"\n        ")]),t._v(" "),n("div",{staticClass:"subtitle-1 font-weight-regular"},[t._v("\n          Внесите изменения и не забудьте сохранить\n        ")])]:t.isShare?[n("p",{staticClass:"text-h5 text-md-h4"},[t._v("\n          С вами поделились рецептом!\n        ")]),t._v(" "),n("p",{staticClass:"subtitle-1 font-weight-regular"},[t._v("\n          Проверьте его, дайте название и не забудьте сохранить.\n        ")])]:[t._v("\n        "+t._s(t.name)+"\n      ")]],2),t._v(" "),n("v-col",{attrs:{cols:"12",md:"8","offset-md":"2"}},[n("v-form",{ref:"recipeForm"},[n("v-row",[n("v-col",{staticClass:"pt-0 mt-8",attrs:{cols:"12"}},[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-combobox",{attrs:{items:t.formulas,"item-text":"text","search-input":t.searchReagent,multiple:"",clearable:"",label:"Формула",hint:"Вы можете выбрать несколько реагентов","persistent-hint":"","hide-details":"auto",rules:t.rulesReagent},on:{"update:searchInput":function(e){t.searchReagent=e},"update:search-input":function(e){t.searchReagent=e},blur:function(e){t.searchReagent=""}},model:{value:t.reagents,callback:function(e){t.reagents=e},expression:"reagents"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-combobox",{attrs:{items:t.recipesExamples,label:"Рецепт",hint:"или выбрать один из рецептов","persistent-hint":"","hide-details":"auto"},model:{value:t.recipeExampleChosen,callback:function(e){t.recipeExampleChosen=e},expression:"recipeExampleChosen"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-combobox",{attrs:{items:t.compoundsList,"item-text":"text","search-input":t.searchCompound,clearable:"",multiple:"",label:"Готовая смесь",hint:"Вы можете выбрать несколько смесей","persistent-hint":"","hide-details":"auto",rules:t.rulesReagent},on:{"update:searchInput":function(e){t.searchCompound=e},"update:search-input":function(e){t.searchCompound=e},blur:function(e){t.searchCompound=""}},model:{value:t.compounds,callback:function(e){t.compounds=e},expression:"compounds"}})],1),t._v(" "),t.isReagents?n("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[n("div",{staticClass:"mt-3"},[t._l(t.reagents,(function(e){return[n("div",{key:e.value,staticClass:"d-flex justify-space-between caption"},[n("div",[t._v(t._s(e.text))]),t._v(" "),n("div",[t._v(t._s(t.showComponents(t.countPercent(e.key))))])])]})),t._v(" "),t._l(t.compounds,(function(e){return[n("div",{key:e.name,staticClass:"d-flex justify-space-between caption"},[n("div",[t._v(t._s(e.name))]),t._v(" "),n("div",[t._v(t._s(t.showComponents(e.ions)))])])]}))],2),t._v(" "),n("div",{staticClass:"mt-3"},[n("small",[t._v("\n                    *Так как аквариумисту удобнее работать с нитратом (NO3), а не с азотом (N), далее\n                    азот в любой форме будет приведен к нитрату.\n                  ")])])]):t._e(),t._v(" "),n("v-expand-transition",[t.isReagents?n("v-col",{attrs:{cols:t.isWater?12:9}},[n("v-radio-group",{attrs:{value:t.isWater,row:"","hide-details":"auto"},on:{change:t.setIsWater}},[n("v-radio",{attrs:{label:"Водный раствор",value:!0}}),t._v(" "),n("v-radio",{attrs:{label:"Безводная смесь",value:!1}})],1)],1):t._e()],1),t._v(" "),n("v-expand-transition",[t.isReagents&&t.isWater?n("v-col",{attrs:{cols:"12"}},[n("number-field",{attrs:{value:t.volume,"precision-show":0,label:"Введите объем удобрения",suffix:"мл",hint:"Выбирайте объем, который вы сможете использовать в течении 2-3x месяцев.\n                            Обычно это 250-300 мл.","hide-details":"auto",rules:[!t.isWater||t.rulesVolume.isExist()]},on:{input:t.inputVolume}})],1):t._e()],1),t._v(" "),n("v-expand-transition",[!t.isReagents||!t.volume&&t.isWater?t._e():n("v-col",{attrs:{cols:"12"}},[n("v-row",[t.isWater?n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"d-flex align-center"},[n("v-divider"),t._v(" "),n("span",{staticClass:"mx-3"},[t._v("\n                          Введите массу реагента\n                          "),n("v-tooltip",{attrs:{bottom:"","max-width":"400"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-icon",t._g({},o),[t._v("mdi-help-circle-outline")])]}}],null,!1,2575987712)},[t._v("\n                            Введите массу реагента и калькулятор автоматически рассчитает\n                            дозы элементов, которые показаны ниже.\n                          ")])],1),t._v(" "),n("v-divider")],1)]):t._e(),t._v(" "),t._l(t.reagents,(function(e){return n("v-col",{key:e.key,staticClass:"py-0",attrs:{cols:"12"}},[n("number-field",{key:e.key,attrs:{value:t.mass[e.key],label:e.text,"precision-show":3,suffix:e.density?"мл":"г","hide-details":"auto",rules:[t.rulesMass.isExist()],error:t.isWater&&t.mass[e.key]/t.volume*1e3>t.FORMULAS[e.key].solubilityLimit,"error-messages":t.isWater&&t.mass[e.key]/t.volume*1e3>t.FORMULAS[e.key].solubilityLimit?"Достигнута максимальная растворимость -\n                                      "+t.FORMULAS[e.key].solubilityLimit+" г/л при 20°С!":""},on:{input:function(n){return t.inputMass(n,e.key)}}})],1)})),t._v(" "),t._l(t.compounds,(function(e){return n("v-col",{key:e.key,staticClass:"py-0",attrs:{cols:"12"}},[n("number-field",{key:e.key,attrs:{value:t.mass[e.key],"precision-show":3,label:e.text,suffix:e.isLiquid?"мл":"г","hide-details":"auto",rules:[t.rulesMass.isExist()]},on:{input:function(n){return t.inputMass(n,e.key)}}})],1)})),t._v(" "),n("v-expand-transition",[t.isWater?n("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[n("the-elements-table",{attrs:{"total-ion-concentration":t.totalIonConcentration,"fertilizer-mass":t.mass,concentration:t.concentration}})],1):t._e()],1),t._v(" "),n("v-expand-transition",[t.isWater?t._e():n("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[n("the-elements-dry-table",{attrs:{"total-ion-concentration":t.totalIonConcentration,"fertilizer-mass":t.mass,"total-fertilizer-mass":t.totalFertilizerMass}})],1)],1),t._v(" "),t.isWater?n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"d-flex align-center"},[n("v-divider"),t._v(" "),n("span",{staticClass:"mx-3"},[t._v("\n                          Или введите дозу элемента\n                          "),n("v-tooltip",{attrs:{bottom:"","max-width":"400"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-icon",t._g({},o),[t._v("mdi-help-circle-outline")])]}}],null,!1,2575987712)},[t._v("\n                            Калькулятор автоматически рассчитает\n                            необходимую массу реагента.\n                            Доза - это количество элемента, на которую повысится концентрация\n                            элемента в заданном объеме аквариума при внесении 1 мл удобрения.\n                            Например, вы хотите сделать макро удобрение с нитратом.\n                            И для удобства введения его в аквариум вы бы хотели, чтобы\n                            на каждый вводимый 1 мл удобрения, нитрат повышался на 0.5 мг/л.\n                            0.5 - это доза.\n                          ")])],1),t._v(" "),n("v-divider")],1)]):t._e(),t._v(" "),n("v-expand-transition",[t.isReagents&&t.isWater?n("v-col",{attrs:{cols:"12"}},[n("v-combobox",{attrs:{items:t.tanks,type:"number","item-text":"name","item-value":"volume",label:"Объем аквариума","persistent-hint":"","hide-selected":"",hint:"Выберите аквариум или введите объем",suffix:"л","return-object":!1},model:{value:t.tankVolume,callback:function(e){t.tankVolume=t._n(e)},expression:"tankVolume"}})],1):t._e()],1),t._v(" "),t.tankVolume&&t.isWater?n("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[n("v-row",[t._l(t.reagents,(function(e){return[n("v-col",{key:e.key,staticClass:"py-0",attrs:{cols:"12"}},[n("v-row",{staticClass:"mb-3"},[t._l(t.FORMULAS[e.key].ions,(function(data,o){return[data.isNeeded?n("v-col",{key:e.key+o,staticClass:"py-0"},[n("number-field",{attrs:{value:t.solute[e.key][o],"precision-show":3,"precision-value":5,label:t.convertIonName(o)+", мг/л",hint:"из "+e.key,"persistent-hint":""},on:{input:function(n){return t.inputIonDose(n,e.key,o)}}})],1):t._e()]}))],2)],1)]})),t._v(" "),t._l(t.compounds,(function(e){return[n("v-col",{key:e.key,staticClass:"py-0",attrs:{cols:"12"}},[n("v-row",{staticClass:"mb-3"},[t._l(Object.keys(e.ions),(function(o){return[n("v-col",{key:e.key+o,staticClass:"py-0"},[n("number-field",{attrs:{value:t.solute[e.key][o],"precision-show":3,"precision-value":5,label:t.convertIonName(o)+", мг/л",hint:"из "+e.key,"persistent-hint":""},on:{input:function(n){return t.inputIonDose(n,e.key,o)}}})],1)]}))],2)],1)]})),t._v(" "),t.isReagents?n("v-col",{staticClass:"d-flex justify-space-between pb-0",attrs:{cols:"12"}},[n("div",[t._v("\n                            Общая доза, мг/л\n                          ")]),t._v(" "),n("div",{staticClass:"d-flex flex-column"},t._l(t.ionTotalDoseSorted,(function(e){var o=e[0],r=e[1];return n("div",{key:o,staticClass:"d-flex justify-space-between"},[n("div",[t._v(t._s(t.convertIonName(o))+":")]),t._v(" "),n("div",{staticClass:"ml-3"},[t._v("\n                                "+t._s(t._f("precision")(r,3))+"\n                                "),t.countTotalDose(t.solute)?[t._v("\n                                  ("+t._s(t._f("precision")(r/t.countTotalDose(t.solute)*100,2))+"%)\n                                ")]:t._e()],2)])})),0)]):t._e()],2)],1):t._e()],2)],1)],1),t._v(" "),n("v-expand-transition",[!t.isReagents||!t.volume&&t.isWater?t._e():n("v-col",{attrs:{cols:"12"}},[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Название рецепта","hide-details":"auto",hint:"* название рецепта должно быть уникальным",rules:t.rulesName},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-textarea",{attrs:{label:"Примечание","hide-details":"auto","auto-grow":"",rows:"1",hint:"Вы можете добавить дополнительные сведения к рецепту"},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1),t._v(" "),n("v-col",{staticClass:"d-flex",attrs:{cols:"12"}},[t.isCreate||t.isShared?t._e():n("v-btn",{attrs:{color:"error"},on:{click:t.removeRecipe}},[t._v("\n                        Удалить\n                      ")]),t._v(" "),n("v-btn",{staticClass:"ml-auto",on:{click:function(e){return t.$router.push("/recipes/")}}},[t._v("\n                        Отмена\n                      ")]),t._v(" "),t.isCreate||t.isShared?t._e():n("v-btn",{staticClass:"ml-2",attrs:{color:"primary"},on:{click:t.editRecipe}},[t._v("\n                        Сохранить\n                      ")]),t._v(" "),t.isCreate||t.isShared?n("v-btn",{staticClass:"ml-2",attrs:{color:"primary"},on:{click:t.addRecipe}},[t._v("\n                        Сохранить\n                      ")]):t._e()],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;E()(component,{PageTitle:n(201).default,NumberField:n(200).default}),E()(component,{VBtn:S.a,VCol:M.a,VCombobox:N.a,VContainer:I.a,VDivider:P.a,VExpandTransition:R.a,VForm:F.a,VIcon:H.a,VRadio:V.a,VRadioGroup:A.a,VRow:K.a,VTextField:D.a,VTextarea:T.a,VTooltip:B.a})}}]);