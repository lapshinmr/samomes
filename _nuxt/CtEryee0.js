import{u as p}from"./VgroUGRK.js";import{aE as f,r as V,e as c,C as v,D as S,h as w,o as C,w as o,b as a,d as u,a as g,aF as x,aG as T,j as b}from"./CpVNxatc.js";import{V as y}from"./DSWrAum2.js";import{a as k,b as B,c as P,V as U}from"./C4zE5Mhn.js";import{V as $}from"./CuZWrV3r.js";import{V as N}from"./CYxYVDue.js";import{d as D,V as I}from"./CExVc3o5.js";import{V as M}from"./EWcvugoL.js";import{V as R}from"./ShqC4Kwl.js";const h=()=>{const i=p(),t=f(()=>null,"$l72-V_R3fl"),n=V(!1);function s(l){t.value=l,n.value=!0}async function e(l){await navigator.clipboard.writeText(l),i.show("Ссылка скопирована")}function r(l){if(t.value===null)return"";let d=JSON.stringify([l]);d=d.replace(/%/g,"%25");const m=encodeURIComponent(d);return`${window.location.origin+window.location.pathname}share?share=${m}`}return{itemIndexToShare:t,isSharePopup:n,onShare:s,copyUrl:e,encodeUrl:r}},q=c({__name:"TheSharePopup",props:v({url:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const t=S(i,"modelValue"),{copyUrl:n}=h();return(s,e)=>(C(),w(y,{modelValue:t.value,"onUpdate:modelValue":e[2]||(e[2]=r=>t.value=r),width:"500"},{default:o(()=>[a(U,null,{default:o(()=>[a(k,null,{default:o(()=>e[3]||(e[3]=[u(" Поделиться ссылкой ")])),_:1}),a(B,null,{default:o(()=>[a($,{"model-value":s.url,readonly:"",label:"Ваша ссылка для отправки",hint:"Скопируйте ссылку"},{append:o(()=>[a(N,{location:"bottom","max-width":"400"},{activator:o(({props:r})=>[g("a",{class:"cursor-pointer",onClick:e[0]||(e[0]=l=>b(n)(s.url))},[a(D,x(T(r)),{default:o(()=>e[4]||(e[4]=[u("mdi-content-copy")])),_:2},1040)])]),default:o(()=>[e[5]||(e[5]=u(" Скопировать "))]),_:1})]),_:1},8,["model-value"])]),_:1}),a(M),a(P,null,{default:o(()=>[a(R),a(I,{text:"",onClick:e[1]||(e[1]=r=>t.value=!1)},{default:o(()=>e[6]||(e[6]=[u(" Закрыть ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});export{q as _,h as u};
