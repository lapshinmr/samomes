(window.webpackJsonp=window.webpackJsonp||[]).push([[35,14],{707:function(e,n,t){"use strict";t.d(n,"h",(function(){return _})),t.d(n,"e",(function(){return y})),t.d(n,"k",(function(){return C})),t.d(n,"i",(function(){return j})),t.d(n,"g",(function(){return x})),t.d(n,"a",(function(){return k})),t.d(n,"b",(function(){return E})),t.d(n,"c",(function(){return P})),t.d(n,"d",(function(){return w})),t.d(n,"j",(function(){return F})),t.d(n,"m",(function(){return S})),t.d(n,"l",(function(){return A})),t.d(n,"n",(function(){return B})),t.d(n,"o",(function(){return D})),t.d(n,"f",(function(){return N}));t(10),t(13),t(15),t(16);var r=t(3),o=t(65),c=t(14),l=(t(4),t(12),t(263),t(198),t(11),t(33),t(45),t(29),t(32),t(262),t(199),t(706)),f=t(708),v=t(38),d=t(39),m=(t(24),t(48),t(34),t(79),t(55),function(){function e(n){Object(v.a)(this,e),this.formulaInit=n}return Object(d.a)(e,[{key:"mass",get:function(){var e=this,n=0;return Object.keys(this.composition).forEach((function(t){n+=l.a[t]*e.composition[t]})),n}},{key:"formula",get:function(){return e.replaceSupAndSub(this.formulaInit)}},{key:"composition",get:function(){var n=e.cleanParentheses(this.formula);return e.formulaToJson(n)}},{key:"simplifiedFormula",get:function(){return this.createSimplifiedFormula()}},{key:"createSimplifiedFormula",value:function(){var e="";return Object.entries(this.composition).forEach((function(n){var t=Object(c.a)(n,2),element=t[0],r=t[1];e+=element,1!==r&&(e+=r)})),e}}],[{key:"replaceSupAndSub",value:function(e){return e.replace(/[⁰¹²³⁴-⁹₀-₉]/g,(function(e){return e.charCodeAt(0).toString(16).slice(-1)}))}},{key:"isLowerCase",value:function(e){return/^[a-z]$/.test(e)}},{key:"isUpperCase",value:function(e){return/^[A-Z]$/.test(e)}},{key:"isNumber",value:function(e){return/^\d+$/.test(e)}},{key:"createComposition",value:function(e){var n={};return e.forEach((function(e){var t=Object(c.a)(e,2),element=t[0],r=t[1];element in n?n[element]+=+r:n[element]=+r})),n}},{key:"getParenthesisGroups",value:function(e){var n=[],t=[];return e.split("").forEach((function(e,r){"("===e&&n.push(r),")"===e&&t.push([n.pop(),r])})),t}},{key:"createElemList",value:function(n){var t=n.split(""),r="",o="",c=[];return t.forEach((function(n){0===r.length&&e.isUpperCase(n)?r=n:1===r.length&&e.isLowerCase(n)?r+=n:r.length>0&&(e.isNumber(n)?o+=n:e.isUpperCase(n)&&(0===o.length&&(o="1"),c.push([r,o]),r=n,o=""))})),0===o.length&&(o="1"),c.push([r,o]),c}},{key:"cleanParentheses",value:function(n){if(!n.includes("("))return n;for(var t=e.getParenthesisGroups(n)[0],r=Object(c.a)(t,2),o=r[0],l=r[1],f="",i=1;e.isNumber(n[l+i]);)f+=n[l+i],i+=1;0===f.length&&(f="1");var v=+f,d=n.substring(o+1,l),m=e.createElemList(d),h="";m.forEach((function(e){var n=Object(c.a)(e,2),element=n[0],t=n[1];h+=element,h+=t*v}));var O="(".concat(d,")");1!==v&&(O+=v);var _=n.replace(O,h);return e.cleanParentheses(_)}},{key:"formulaToJson",value:function(n){if(0===n.length)return{};var t=e.createElemList(n);return e.createComposition(t)}}]),e}());function h(object,e){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),n.push.apply(n,t)}return n}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(n){Object(r.a)(e,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(source,n))}))}return e}var _=function(e){var n={};return Object.values(e).forEach((function(e){Object.entries(e).forEach((function(e){var t=Object(c.a)(e,2),r=t[0],o=t[1];void 0===n[r]&&(n[r]=0),n[r]+=o}))})),n},y=function(e){var n=function(e){var n=0,t=f.a[e].ions;return Object.entries(t).forEach((function(e){var t=Object(c.a)(e,2),r=t[0],o=t[1];n+=l.a[r]*o.count})),n}(e),t={},r=f.a[e].ions;return Object.entries(r).forEach((function(e){var r=Object(c.a)(e,2),o=r[0],f=r[1];f.isNeeded&&(t[o]=l.a[o]*f.count/n)})),t},C=function(e){var n=!1;return Object.values(e).forEach((function(e){Object.keys(e).forEach((function(t){e[t]&&(n=!0)}))})),n},j=function(e){var n={};return Object.values(e).forEach((function(e){Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=0),n[t]+=e[t]}))})),n},x=function(e){var n=0,t=j(e);return Object.keys(t).forEach((function(e){n+=t[e]})),n},M=function(e){var n,t=0;return Object(o.a)(e).forEach((function(e){t+=+e?l.a[n]*(parseInt(e,10)-1):l.a[e],n=e})),t},k={N:"NO3",NO3:"N",P:"PO4",PO4:"P",S:"SO4",SO4:"S"},E={NO3:"N",PO4:"P",P2O5:"P2",SO4:"S",K2O:"K2",MgO:"Mg",CaO:"Ca"},P=function(e){return k[e]||e},w=function(e){return P(e)!==e?M(P(e))/M(e):1},F=function(e){var n=new m(e).mass;return new m(E[e]).mass/n},S=function(e){return e.reagents&&e.reagents.length>0},A=function(e){return e.elements&&Object.keys(e.elements).length>0},B=function(){var filter=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[];return Object.entries(f.a).forEach((function(n){var t=Object(c.a)(n,2),r=t[0],data=t[1],o=!1;0!==filter.length?filter.forEach((function(element){r.includes(element)&&(o=!0)})):o=!0,o&&e.push(O({key:r,text:"".concat(data.name," - ").concat(r)},data))})),e.sort((function(a,b){return a.text.localeCompare(b.text)})),e},D=function(e,n){return e.sort((function(a,b){return a[n].localeCompare(b[n])})),e},N=function(e,n,t){var r=e[n],o=e[t];return r&&o?(r*w(n)/(o*w(t))).toFixed(2):"—"}},729:function(e,n,t){"use strict";n.a={Biolan:{ions:{N:.13,P:.013,K:.125,Fe:.0017,Mg:.018,B:1e-4,Zn:4e-4,Cu:4e-4,Mo:1e-4},name:"Biolan Удобрение для орхидей RAIN MIX"},PlantexCSM:{ions:{Fe:.07,Mn:.02,Mg:.015,Zn:.004,Cu:.001,Mo:6e-4},name:"Plantex® C.S.M."},PlantexCMM:{ions:{Fe:.07,Mn:.02,B:.013,Zn:.004,Cu:.001,Mo:6e-4},name:"Plantex® C.M.M."},AgroMicsT:{ions:{Fe:.07,Mn:.033,B:.0065,Zn:.006,Cu:.0027,Mo:.002},name:"АгроМикс T"},"Fe-EDTA13":{ions:{Fe:.13},name:"ЭДТА Железо 13%"},"Fe-EDDGA6":{ions:{Fe:.06},name:"ЭДДГА Железо 6%"},"Fe-DTPA11":{ions:{Fe:.11},name:"ДТПА Железо 11%"},"Mn-EDTA13":{ions:{Mn:.13},name:"ЭДТА Марганец 13%"},"Ca-EDTA10":{ions:{Ca:.1},name:"ЭДТА Кальций 10%"},"Mg-EDTA6":{ions:{Mg:.06},name:"ЭДТА Магний 6%"},"Co-EDTA13":{ions:{Co:.13},name:"ЭДТА Кобальт 13%"},"Zn-EDTA15":{ions:{Zn:.15},name:"ЭДТА Цинк 15%"},"Cu-EDTA15":{ions:{Cu:.15},name:"ЭДТА Медь 15%"},"B12-liquid":{ions:{},isLiquid:!0,name:"Цианокобаламин B12 (жидкий)"},"B12-solid":{ions:{},name:"Цианокобаламин B12 (порошок)"},Ferovit:{ions:{Fe:.075,N:.04},isLiquid:!0,name:"Феровит"},Citovit:{ions:{N:.03,P:.005,K:.025,Mg:.01,S:.04,Fe:.035,Mn:.03,B:.008,Zn:.006,Cu:.006,Mo:.004,Co:.002},isLiquid:!0,name:"Цитовит"},AquaMicsCT:{ions:{Fe:.0384,Mn:.0257,Zn:.0053,Ca:.0257,B:.0052,Mo:.0013,Cu:.0053},isLiquid:!1,name:"Аквамикс СТ (порошок)"},AquaMics:{ions:{Fe:.0058,Mn:.0039,Zn:8e-4,Ca:.0039,B:79e-5,Mo:19e-5,Cu:8e-4},isLiquid:!0,name:"Аквамикс (раствор)"},AquarinUniversal:{ions:{N:.18,P:.0786,K:.1494,S:.015,Fe:54e-5,Mn:42e-5,Mg:.012064,B:2e-4,Zn:14e-5,Cu:1e-4,Mo:4e-5},name:'Акварин "Универсальный"'},BrexilFe:{ions:{Fe:.1},name:"Brexil Fe 10%"},BrexilMn:{ions:{Mn:.1},name:"Brexil Mn 10%"},BrexilCombi:{ions:{Fe:.068,Mn:.026,B:.009,Zn:.011,Cu:.003,Mo:.002},name:"Brexil Combi"}}},755:function(e,n,t){"use strict";t.r(n);t(198),t(262);var r=t(708),o=t(729),c=t(707),l={name:"Recipe",props:{recipe:{type:Object,default:function(){}}},data:function(){return{FORMULAS:r.a,COMPOUNDS:o.a}},computed:{concentrations:function(){var e=Object.entries(Object(c.h)(this.recipe.concentration));return e.sort((function(a,b){return b[1]-a[1]})),e},isRecipe:function(){return this.recipe.reagents&&this.recipe.reagents.length>0}},methods:{convertIonName:c.c,convertIonRatio:c.d,countTotalIonConcentration:c.h,isConcentration:c.k}},f=t(37),v=t(46),d=t.n(v),m=t(684),component=Object(f.a)(l,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e.isRecipe?t("div",{staticClass:"mb-2"},[e._v("\n    Рецепт\n  ")]):e._e(),e._v(" "),e.recipe.volume?t("div",{staticClass:"d-flex justify-space-between body-2"},[t("span",{},[e._v("\n      Объем удобрения\n    ")]),e._v(" "),t("span",[e._v("\n      "+e._s(e.recipe.volume)+" мл\n    ")])]):e._e(),e._v(" "),e._l(e.recipe.reagents,(function(n){return[e.recipe.mass[n]?t("div",{key:n,staticClass:"d-flex justify-space-between body-2"},[t("span",[e._v("\n        "+e._s(e.FORMULAS[n].name)+"\n      ")]),e._v(" "),t("span",[e._v("\n        "+e._s(e._f("precision")(e.recipe.mass[n],2))+" г\n      ")])]):e._e()]})),e._v(" "),e._l(e.recipe.compounds,(function(n){return[e.recipe.mass[n]?t("div",{key:n,staticClass:"d-flex justify-space-between body-2"},[t("span",[e._v("\n        "+e._s(e.COMPOUNDS[n].name)+"\n      ")]),e._v(" "),t("span",[e._v("\n        "+e._s(e._f("precision")(e.recipe.mass[n],2))+" г\n      ")])]):e._e()]})),e._v(" "),e.isRecipe?t("v-divider",{staticClass:"my-3"}):e._e(),e._v(" "),e.isConcentration(e.recipe.concentration)?t("div",{staticClass:"d-flex justify-space-between"},[t("div",{},[e._v("\n      Концентрация\n    ")]),e._v(" "),t("div",{staticClass:"d-flex body-2"},[t("div",e._l(e.concentrations,(function(n){var r=n[0];return t("div",{key:r+"name",staticClass:"mr-3"},[e._v("\n          "+e._s(e.convertIonName(r))+"\n        ")])})),0),e._v(" "),t("div",e._l(e.concentrations,(function(n){var r=n[0],o=n[1];return t("div",{key:r+"unit",staticClass:"text-right"},[e._v("\n          "+e._s(e._f("precision")(e.convertIonRatio(r)*o*(!e.recipe.volume&&e.isRecipe?1e3:1),3))+"\n          "+e._s(!e.recipe.volume&&e.isRecipe?"мг/г":"г/л")+"\n        ")])})),0)])]):e._e(),e._v(" "),e.recipe.note?t("v-divider",{staticClass:"my-3"}):e._e(),e._v(" "),e.recipe.note?t("div",{staticClass:"d-flex flex-column flex-md-row justify-md-space-between"},[t("div",{staticClass:"mb-3 mr-md-3"},[e._v("\n      Примечание\n    ")]),e._v(" "),t("div",{staticClass:"text-md-right body-2",staticStyle:{"word-break":"break-word","white-space":"pre-wrap"}},[e._v(e._s(e.recipe.note))])]):e._e()],2)}),[],!1,null,"0308375a",null);n.default=component.exports;d()(component,{VDivider:m.a})},768:function(e,n,t){var content=t(824);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(21).default)("442e8424",content,!0,{sourceMap:!1})},823:function(e,n,t){"use strict";t(768)},824:function(e,n,t){var r=t(20)(!1);r.push([e.i,".flip-list-move{transition:transform .5s}.ghost{opacity:.5;background:#c8ebfb}",""]),e.exports=r},911:function(e,n,t){"use strict";t.r(n);t(11),t(10),t(13),t(4),t(15),t(12),t(16);var r=t(3),o=t(81),c=t(754),l=t.n(c),f=t(755);function v(object,e){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),n.push.apply(n,t)}return n}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(n){Object(r.a)(e,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(source,n))}))}return e}var m={name:"Fertilizers",components:{draggable:l.a,Recipe:f.default},head:function(){return{title:"Список фирменных удобрений для аквариума",meta:[{hid:"description",name:"description",content:"На этой странице вы можете добавить фирменные удобрения,  которые используете в своем аквариуме, чтобы легко рассчитать дозировки."},{hid:"keywords",name:"keywords",content:"фирменные удобрения, аквариум, дозировки, учет удобрений, подкормки растений"}]}},data:function(){return{drag:!1}},computed:{dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}},fertilizers:{get:function(){return this.$store.state.fertilizers},set:function(e){this.FERTILIZER_MOVE(e)}}},methods:d(d({},Object(o.c)(["FERTILIZER_MOVE","SNACKBAR_SHOW"])),{},{addFertilizer:function(){return this.$router.push("/fertilizers/create/")}})},h=(t(823),t(37)),O=t(46),_=t.n(O),y=t(264),C=t(694),j=t(705),x=t(897),M=t(898),k=t(899),E=t(900),P=t(247),w=t(695),F=t(703),component=Object(h.a)(m,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",{staticClass:"mb-12"},[t("v-row",[t("page-title",[e._v("\n      Удобрения\n    ")]),e._v(" "),t("client-only",[0===e.fertilizers.length?t("v-col",{attrs:{cols:"12",md:"8","offset-md":"2"}},[t("p",{staticClass:"mb-8",class:{"text-h6":e.$vuetify.breakpoint.xs,"text-h5":e.$vuetify.breakpoint.smAndUp}},[e._v("\n          У вас еще нет ни одного удобрения\n        ")])]):t("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[t("v-expansion-panels",{attrs:{multiple:""}},[t("draggable",e._b({staticStyle:{width:"100%"},attrs:{handle:".handle"},on:{start:function(n){e.drag=!0},end:function(n){e.drag=!1}},model:{value:e.fertilizers,callback:function(n){e.fertilizers=n},expression:"fertilizers"}},"draggable",e.dragOptions,!1),[t("transition-group",{attrs:{type:"transition",name:e.drag?null:"flip-list"}},e._l(e.fertilizers,(function(n,r){return t("v-expansion-panel",{key:n.name},[t("v-expansion-panel-header",{staticClass:"pa-3 py-sm-4 px-sm-6"},[t("div",{staticClass:"d-flex justify-space-between align-center",staticStyle:{width:"100%"}},[t("span",{staticClass:"no-break font-weight-regular d-flex flex-column flex-sm-row align-start",class:{"subtitle-1":e.$vuetify.breakpoint.xs,title:e.$vuetify.breakpoint.smAndUp}},[t("span",{staticStyle:{"line-height":"1.25rem"}},[e._v("\n                        "+e._s(n.name)+"\n                      ")])]),e._v(" "),t("span",{staticClass:"mr-3"},[t("v-tooltip",{attrs:{bottom:"","max-width":"400"},scopedSlots:e._u([{key:"activator",fn:function(n){var r=n.on;return[t("v-icon",e._g({staticClass:"handle ml-2"},r),[e._v("mdi mdi-drag")])]}}],null,!0)},[e._v("\n                        "+e._s(e.$t("fertilizers.panels.header.pull"))+"\n                      ")])],1)])]),e._v(" "),t("v-expansion-panel-content",[t("recipe",{attrs:{recipe:n}}),e._v(" "),t("div",{staticClass:"d-flex justify-end mt-4"},[t("v-btn",{staticClass:"mr-n4",attrs:{text:"",to:"/fertilizers/"+r+"/"}},[e._v("\n                      "+e._s(e.$t("buttons.open"))+"\n                    ")])],1)],1)],1)})),1)],1)],1)],1),e._v(" "),t("the-guide",[t("p",[e._v("\n          На этой странице вы можете добавить любимые фирменные удобрения с известным составом,\n          чтобы система помогла подобрать дозировки и включила их в ваше персональное\n          "),t("router-link",{attrs:{to:"/schedules/"}},[e._v("\n            расписание.\n          ")])],1),e._v(" "),t("p",[e._v("\n          Даже если вы не знаете точного состава удобрения, вы можете добавить его в систему —\n          это поможет вести учет внесений и не пропустить важные подкормки для ваших растений.\n        ")]),e._v(" "),t("p",[e._v("\n          Начните с нажатия на кнопку со знаком «"),t("a",{on:{click:e.addFertilizer}},[e._v("плюс")]),e._v("», чтобы добавить новое удообрение.\n        ")])])],1)],1),e._v(" "),t("add-button",{attrs:{action:e.addFertilizer}},[e._v("\n    "+e._s(e.$t("fertilizers.addButton"))+"\n  ")])],1)}),[],!1,null,null,null);n.default=component.exports;_()(component,{PageTitle:t(201).default,TheGuide:t(202).default,AddButton:t(204).default}),_()(component,{VBtn:y.a,VCol:C.a,VContainer:j.a,VExpansionPanel:x.a,VExpansionPanelContent:M.a,VExpansionPanelHeader:k.a,VExpansionPanels:E.a,VIcon:P.a,VRow:w.a,VTooltip:F.a})}}]);