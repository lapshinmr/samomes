import{_ as Q}from"./BennhIYQ.js";import{_ as W,a as X,b as Y}from"./ZnY5Jr4l.js";import{f as $}from"./DHChNhVW.js";import{s as Z}from"./Ch8e8etN.js";import{e as P,k as x,c as d,o as p,a as s,b as r,i as v,t as o,j as e,H as k,K as g,G as ee,E as C,A as te,h as f,w as n,d as l,z as V}from"./C4AY6iDY.js";import{V as w}from"./CsOvkQMc.js";import{u as oe,_ as se,a as ie}from"./Ccn9iNhg.js";import{_ as ne}from"./C9wVp3-b.js";import{_ as re}from"./Dc-nFeH9.js";import{u as ae,_ as pe}from"./2JV3_nHg.js";import{u as me}from"./CJauG_RX.js";import{u as ce}from"./Bht1taiZ.js";import{u as le}from"./Ci8V9Md_.js";import{b as ue,a as de}from"./D_ojGsqK.js";import{V as S}from"./_MrG4Qzc.js";import"./Dd_ptEuo.js";import"./DDO_tocw.js";import"./C_viBdnf.js";import"./B931MWyl.js";import"./C1PmHpO2.js";import"./BJEZURo1.js";import"./BBggtmFf.js";import"./85aYgJ7U.js";import"./CusXBXJr.js";import"./Bwe6WoDM.js";import"./CRWMzYl9.js";import"./Bf45qiAc.js";import"./DFmCVkFv.js";import"./CEN1ZApb.js";import"./qzx_-4Xp.js";import"./CbywPFrM.js";import"./DTh5aDWK.js";/* empty css        */import"./DxcjxDr2.js";import"./BQGgX5ID.js";const _e={class:"mb-2"},fe={class:"flex-shrink-0 ml-1"},ve={class:"d-flex justify-space-between"},he={class:"mb-2 mb-sm-4"},be={class:"d-flex text-body-2"},Re={class:"d-flex justify-end ml-2"},ye={class:"ml-1"},ke={class:"mb-3 mr-md-3"},Ve={class:"text-body-2",style:{"word-break":"break-word","white-space":"pre-wrap"}},$e=P({name:"FertilizerRecipeCard",__name:"FertilizerRecipeCard",props:{recipe:{}},setup(T){const{t:m}=x();return(t,h)=>(p(),d("div",null,[s("div",_e,o(e(m)("recipes.card.recipe")),1),(p(!0),d(k,null,g(t.recipe.reagents,i=>(p(),d("div",{key:i.key,class:"d-flex justify-space-between text-body-2"},[s("span",null,o(i.name)+" "+o(i.dilution<100?`${i.dilution}%`:""),1),s("span",fe,o(("format"in t?t.format:e($))(i.amount))+" "+o(i.isLiquid?e(m)("units.ml"):e(m)("units.g")),1)]))),128)),r(w,{class:"my-3"}),s("div",ve,[s("div",he,o(e(m)("recipes.card.composition")),1),s("div",be,[s("div",null,[s("table",null,[(p(!0),d(k,null,g(("sortObject"in t?t.sortObject:e(Z))(t.recipe.concentration),([i,b])=>(p(),d("tr",{key:i+"name"},[s("td",null,o(i),1),s("td",Re,[s("span",null,o(("format"in t?t.format:e($))(b)),1),s("span",ye,o(t.recipe.isLiquid?e(m)("units.g/l"):e(m)("units.g/1g")),1)])]))),128))])])])]),t.recipe.description?(p(),d(k,{key:0},[r(w,{class:"my-3"}),s("div",null,[s("div",ke,o(e(m)("recipes.card.description")),1),s("div",Ve,o(t.recipe.description),1)])],64)):v("",!0)]))}}),ge={class:"mb-2"},Ce={class:"mb-2"},we={class:"mb-2"},mt=P({__name:"index",setup(T){const m=ee(),{t}=x(),{appRoutes:h}=me(),i=ce(),b=le(),{itemIndexToRemove:j,isRemovePopup:R,onRemove:B,onRemoveConfirmation:z}=oe(),{itemIndexToShare:U,isSharePopup:y,encodeUrl:A}=ae(),u=C({get:()=>i.fertilizerRecipeModels,set:_=>i.moveRecipes(_.map(c=>c.toJson()))}),F=C(()=>{const _=i.fertilizerRecipes[U.value];return A(_)});function N(){return m.push(`${h.value.recipes.path}create/`)}async function I(){i.removeRecipe(j.value),b.show(t("recipes.page.message.recipeRemoved")),z()}return te({title:t("meta.recipes.title"),description:t("meta.recipes.description"),keywords:t("meta.recipes.keywords")}),(_,c)=>{const L=Q,M=W,O=X,q=$e,D=se,E=ne,G=re,H=Y,J=pe,K=ie;return p(),f(ue,{"min-height":"100%",class:"mb-12 position-relative"},{default:n(()=>[r(de,null,{default:n(()=>[r(L,null,{default:n(()=>[l(o(e(t)("recipes.title")),1)]),_:1}),r(G,null,{default:n(()=>[e(u).length===0?(p(),f(M,{key:0},{default:n(()=>[l(o(e(t)("recipes.noRecipes")),1)]),_:1})):v("",!0),e(u).length===0?(p(),f(O,{key:1,class:"mb-16"},{default:n(()=>[l(o(e(t)("recipes.hints.p4")),1)]),_:1})):v("",!0),e(u).length!==0?(p(),f(D,{key:2,modelValue:e(u),"onUpdate:modelValue":c[0]||(c[0]=a=>V(u)?u.value=a:null)},{default:n(({item:a})=>[r(q,{recipe:a},null,8,["recipe"])]),actions:n(({index:a})=>[r(S,{variant:"text",right:"",color:"red",class:"ml-n4",onClick:Se=>e(B)(a)},{default:n(()=>[l(o(e(t)("buttons.remove")),1)]),_:2},1032,["onClick"]),r(S,{variant:"text",to:`${e(h).recipes.path}${a}/`,class:"mr-n4"},{default:n(()=>[l(o(e(t)("buttons.edit")),1)]),_:2},1032,["to"])]),_:1},8,["modelValue"])):v("",!0),r(E,null,{default:n(()=>[s("p",ge,o(e(t)("recipes.hints.p1")),1),s("p",Ce,o(e(t)("recipes.hints.p2")),1),s("p",we,o(e(t)("recipes.hints.p3")),1)]),_:1})]),_:1})]),_:1}),r(H,{action:N},{default:n(()=>[l(o(e(t)("recipes.addButton")),1)]),_:1}),r(J,{modelValue:e(y),"onUpdate:modelValue":c[1]||(c[1]=a=>V(y)?y.value=a:null),url:e(F)},null,8,["modelValue","url"]),r(K,{modelValue:e(R),"onUpdate:modelValue":c[2]||(c[2]=a=>V(R)?R.value=a:null),onRemove:I},{default:n(()=>[l(o(e(t)("recipes.removePopupContent")),1)]),_:1},8,["modelValue"])]),_:1})}}});export{mt as default};
