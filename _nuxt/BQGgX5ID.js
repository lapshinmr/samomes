var N=Object.defineProperty;var c=(m,e,i)=>e in m?N(m,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):m[e]=i;var s=(m,e,i)=>c(m,typeof e!="symbol"?e+"":e,i);import{t as C}from"./BBggtmFf.js";import{g as u,b as y,M as h,c as k}from"./Ch8e8etN.js";import{f as d}from"./DHChNhVW.js";const g=1e3,L=1e3,f="H2O",E="HCO3",R="C6H11O7",r="C10H14N2Na2O8(H2O)2",b="C10H16N2O8",H={[f]:{density:1,name:"Вода"},KNO3:{solubility:316,name:"Калия нитрат"},NaNO3:{solubility:916,name:"Натрия нитрат"},Na2SO4:{solubility:281,name:"Натрия сульфат"},"Na2SO4(H2O)10":{solubility:195,name:"Натрия сульфат 10-водный"},KH2PO4:{solubility:226,name:"Калия монофосфат"},K2HPO4:{solubility:1598,name:"Калия гидроортофосфат"},K4P2O7:{solubility:1870,name:"Калия пирофосфат"},"K4P2O7(H20)3":{solubility:1870,name:"Калия пирофосфат 3-водный"},"K3PO4(H20)7":{name:"Калий фосфорнокислый 3-замещенный 7-водный"},K2SO4:{cation:{key:"K",number:2},anion:{key:"SO4",number:1},solubility:111,name:"Калия сульфат"},KOH:{solubility:1210,name:"Калия гидроксид"},NaOH:{solubility:1e3,name:"Натрия гидроксид"},"Ca(OH)2":{solubility:1.66,name:"Кальция гидроксид"},"(NH2)2CO":{solubility:1080,name:"Карбамид (мочевина)"},NH4NO3:{solubility:1920,name:"Аммония нитрат"},MgSO4:{cation:{key:"Mg",number:1},anion:{key:"SO4",number:1},solubility:351,name:"Магния сульфат"},"MgSO4(H2O)7":{cation:{key:"Mg",number:1},anion:{key:"SO4",number:1},solubility:360,name:"Магния сульфат 7-водный (магнезия)"},"MgCl2(H2O)6":{cation:{key:"Mg",number:1},anion:{key:"Cl",number:2},solubility:546,name:"Магния Хлорид 6-водный"},"Mg(NO3)2(H2O)6":{name:"Магния нитрат 6-водный"},"Ca(NO3)2":{solubility:1270,name:"Кальция нитрат"},"Ca(NO3)2(H2O)2":{name:"Кальция нитрат 2-водный"},"Ca(NO3)2(H2O)4":{name:"Кальция нитрат 4-водный"},CaCO3:{cation:{key:"Ca",number:1},anion:{key:"CO3",number:1},HCO3:2,solubility:.014,name:"Кальция карбонат"},MgCO3:{cation:{key:"Mg",number:1},anion:{key:"CO3",number:1},HCO3:2,solubility:.012,name:"Магния карбонат"},K2CO3:{cation:{key:"K",number:2},anion:{key:"CO3",number:1},HCO3:2,solubility:1105,name:"Калия карбонат"},Na2CO3:{cation:{key:"Na",number:2},anion:{key:"CO3",number:1},HCO3:2,solubility:218,name:"Натрия карбонат (бельевая сода)"},"Na2CO3(H2O)":{cation:{key:"Na",number:2},anion:{key:"CO3",number:1},HCO3:2,solubility:218,name:"Натрия карбонат 1-водный (стиральная сода)"},"Na2CO3(H2O)7":{cation:{key:"Na",number:2},anion:{key:"CO3",number:1},HCO3:2,solubility:218,name:"Натрия карбонат 7-водный (стиральная сода)"},"Na2CO3(H2O)10":{cation:{key:"Na",number:2},anion:{key:"CO3",number:1},HCO3:2,solubility:218,name:"Натрия карбонат 10-водный (стиральная сода)"},KHCO3:{cation:{key:"K",number:1},anion:{key:"CO3",number:1},HCO3:1,solubility:333,name:"Калия гидрокарбонат"},NaHCO3:{cation:{key:"Na",number:1},anion:{key:"CO3",number:1},HCO3:1,solubility:95.9,name:"Натрия гидрокарбонат (пищевая сода)"},"CaSO4(H2O)0.5":{cation:{key:"Ca",number:1},anion:{key:"SO4",number:1},solubility:2.1,name:"Кальция сульфат 0.5-водный (Алебаст)"},"CaSO4(H2O)2":{cation:{key:"Ca",number:1},anion:{key:"SO4",number:1},solubility:2.036,name:"Кальция сульфат 2-водный (гипс)"},CaCl2:{cation:{key:"Ca",number:1},anion:{key:"Cl",number:2},solubility:745,name:"Кальция хлорид"},"CaCl2(H20)2":{cation:{key:"Ca",number:1},anion:{key:"Cl",number:2},solubility:745,name:"Кальция хлорид 2-водный"},"CaCl2(H20)6":{cation:{key:"Ca",number:1},anion:{key:"Cl",number:2},solubility:745,name:"Кальция хлорид 6-водный"},"Ca(C6H11O7)2":{cation:{key:"Ca",number:1},anion:{key:"C6H11O7",number:2},solubility:35,name:"Кальция глюконат"},C6H6O7Mg:{solubility:200,name:"Магния цитрат"},H3BO3:{solubility:47.2,name:"Борная кислота"},KI:{solubility:1445,name:"Калия йодид"},KCl:{solubility:339.7,name:"Калия хлорид"},"CuSO4(H2O)5":{solubility:356,name:"Меди сульфат 5-водный (медный купорос)"},"ZnSO4(H2O)7":{solubility:540,name:"Цинка сульфат 7-водный (цинковый купорос)"},"(NH4)2MoO4":{solubility:400,name:"Молибдат аммония"},"(NH4)6Mo7O24(H2O)4":{solubility:280,name:"Парамолибдат аммония 4-водный"},"MnSO4(H2O)5":{solubility:600,name:"Марганца сульфат 5-водный"},MnSO4H2O:{solubility:762,name:"Марганца сульфат 1-водный"},"Fe2(SO4)3(H2O)9":{solubility:263,name:"Железа сульфат 9-водный"},"FeSO4(H2O)7":{solubility:263,name:"Железный купорос 7-водный"},FeCl3:{solubility:919,name:"Железа трихлорид"},C12H22FeO14:{name:"Железа глюконат"},"C12H22FeO14(H2O)":{name:"Железа глюконат 1-водный"},"C12H22FeO14(H2O)2":{name:"Железа глюконат 2-водный"},C4H8FeN2O4:{name:"Железа глицинат"},"C4H8FeN2O4(H2O)":{name:"Железа глицинат 1-водный"},"C4H8FeN2O4(H2O)2":{name:"Железа глицинат 2-водный"},C12H22MnO14:{name:"Марганца глюконат"},"C12H22MnO14(H2O)":{name:"Марганца глюконат 1-водный"},"C12H22MnO14(H2O)2":{name:"Марганца глюконат 2-водный"},C4H8MnN2O4:{name:"Марганца глицинат"},"C4H8MnN2O4(H2O)":{name:"Марганца глицинат 1-водный"},"C4H8MnN2O4(H2O)2":{name:"Марганца глицинат 2-водный"},"C10H12N2Na2O8Ca(H2O)2":{solubility:700,name:"ЭДТА Кальций 10% 2-водный"},"C10H12N2Na2O8Mg(H2O)2":{solubility:800,name:"ЭДТА Магний 6% 2-водный"},"C10H12N2Na2O8Mn(H2O)2":{solubility:700,name:"ЭДТА Марганец 13% 2-водный"},"C10H12N2Na2O8Zn(H2O)2":{solubility:900,name:"ЭДТА Цинк 15% 2-водный"},"C10H12N2Na2O8Cu(H2O)2":{solubility:900,name:"ЭДТА Медь 15% 2-водный"},"C10H12N2NaO8Fe(H20)3":{solubility:250,name:"Железо ЭДТА 13% 3-водный"},C14H18N3O10Na2Fe:{solubility:110,name:"Железа DTPA 11%"},C6H7KO2:{name:"Калия сорбат (консервант E202)"},C6H8O7:{solubility:1330,name:"Лимонная кислота"},C5H8O2:{density:1.1,name:"Глутаровый альдегид"},C6H8O6:{name:"Аскорбиновая кислота"},C63H88CoN14O14P:{name:"Цианокобаламин B12"},C4H6O4:{name:"Янтарная кислота"},"Na2MoO4(H2O)2":{name:"Натрий молибденовокислый 2-водный"},"NiSO4(H2O)7":{name:"Никель сернокислый (II) 7-водный"},"CoSO4(H2O)7":{name:"Кобальт сернокислый (II) 7-водный"},"Ca(CH3COO)2":{cation:{key:"Ca",number:1},anion:{key:"CH3COO",number:2},solubility:400,name:"Кальция ацетат"},"Mg(CH3COO)2":{cation:{key:"Mg",number:1},anion:{key:"CH3COO",number:2},solubility:656,name:"Магния ацетат"},"CO(NH2)2H3PO4":{name:"Мочевины фосфат"},C4H7NO4:{solubility:4.5,name:"L-Аспарагиновая кислота"},C5H9NO4:{solubility:7.5,name:"L-Глутаминовая кислота"},SrCl2:{name:"Стронция хлорид"},H2SO4:{density:1.8356,name:"Серная кислота"},HNO3:{density:1.513,name:"Азотная кислота"},H3PO4:{density:1.685,name:"Ортофосфорная кислота"},C3H6O3:{density:1.25,name:"Молочная кислота"},[r]:{solubility:100,name:"Трилон Б (хелатор EDTA-Na2)"},[b]:{solubility:100,name:"Этилендиаминтетрауксусная кислота (EDTA)"}},M=["C10H12N2Na2O8Ca(H2O)2","C10H12N2Na2O8Mg(H2O)2","C10H12N2Na2O8Mn(H2O)2","C10H12N2Na2O8Zn(H2O)2","C10H12N2Na2O8Cu(H2O)2","C10H12N2NaO8Fe(H20)3","C14H18N3O10Na2Fe",r,b,"C63H88CoN14O14P","C4H7NO4","C5H9NO4"];class S{constructor(e){s(this,"key");s(this,"name");s(this,"type");s(this,"isLiquid");s(this,"HCO3");s(this,"density");s(this,"amount");s(this,"solubility");s(this,"dilution");s(this,"_ions");this.key=e.key,this.name=e.name,this.amount=e.amount,this.type=e.type,this.solubility=e.solubility,this.isLiquid=e.isLiquid??!1,this.density=e.density,this.density&&(this.isLiquid=!0),this.isLiquid&&(this.dilution=e.dilution||100),this.HCO3=e.HCO3,this.ions=e.ions}get isFormula(){return this.type==="formula"}get isCompound(){return this.type==="compound"}get ions(){var i,a,O;let e;if(this.isCompound){const n={};C(this._ions).forEach(([t,o])=>{o&&(t==="N"?n.NO3=o*u(t):t==="P"?n.PO4=o*u(t):t==="S"?n.SO4=o*u(t):t==="MgO"?n.Mg=o*y(t):t==="CaO"?n.Ca=o*y(t):t==="P2O5"?n.PO4=o*y(t)*u("P"):t==="K2O"?n.K=o*y(t):n[t]=o)}),e=n}else{const n=new h(this.key).fraction;M.includes(this.key)||(n.N&&(n.NO3=n.N*u("N")),n.P&&(n.PO4=n.P*u("P")),n.S&&(n.SO4=n.S*u("S")),n.C&&((i=H[this.key])!=null&&i.HCO3)&&(n.CO3=n.C*u("C")),n.C&&((O=(a=H[this.key])==null?void 0:a.anion)==null?void 0:O.key)==="C6H11O7"&&(n.C6H11O7=n.C*k("C12","C12H22O14"))),e=n}return delete e.C,delete e.N,delete e.P,delete e.S,delete e.H,delete e.O,this.dilution<100&&C(e).forEach(([n,t])=>{e[n]=t*this.dilution/100}),e}set ions(e){this._ions=e}get ionsTotal(){return Object.keys(this.ions).length}get text(){return this.isFormula?`${this.name} - ${this.key}`:this.name}get percent(){const e=[];return Object.entries(this.ions).forEach(([i,a])=>{e.push(`${i}: ${d(a*100)}%`)}),e.join(" ")}toJson(){return{key:this.key,name:this.name,amount:this.amount,solubility:this.solubility,dilution:this.dilution,isLiquid:this.isLiquid,type:this.type,HCO3:this.HCO3,ions:this.ions}}}class q{constructor(e){s(this,"name");s(this,"description");s(this,"reagents",[]);this.name=e.name,this.description=e.description,this.reagents=e.reagents.map(i=>new S({...i}))||[]}get totalVolume(){return this.reagents.reduce((e,i)=>e+(i.isLiquid?i.amount:0),0)}get waterVolume(){var e;return((e=this.reagents.find(i=>i.key==="H2O"))==null?void 0:e.amount)??0}get isWater(){return this.waterVolume>0}get isReagents(){return this.reagents.length>0}get isNotOnlyWaterReagent(){return!!this.reagents.find(e=>e.key!=="H2O")&&this.reagents.length>0}get isLiquid(){return!!this.totalVolume}get isSeveralLiquidReagents(){return this.waterVolume!==this.totalVolume}get isDry(){return!this.totalVolume}get totalMass(){return this.reagents.reduce((e,i)=>{let a=i.amount;return i.isLiquid&&(a=i.amount*(i.density??1)),e+a},0)}get concentrationPerReagent(){const e={};return this.reagents.length===0||this.reagents.forEach(i=>{e[i.key]={};const{ions:a,HCO3:O}=i,n=i.density??1;Object.entries(a).forEach(([t,o])=>{let l;this.isLiquid?l=1/(this.totalVolume/g):l=1/this.totalMass,t==="CO3"&&O&&(e[i.key].HCO3=i.amount*o*l*O*n),e[i.key][t]=i.amount*o*l*n})}),e}get concentration(){const e={};return this.reagents.forEach(i=>{C(this.concentrationPerReagent[i.key]).forEach(([a,O])=>{e[a]||(e[a]=0),e[a]+=O})}),e}setReagentAmount(e,i){const a=this.reagents.find(O=>O.key===i);a.amount=e}correctWaterVolumeByReagentAmount(e,i){const a=this.waterVolume+i-e;this.setReagentAmount(a,"H2O")}}export{b as E,H as F,R as G,f as H,L as M,S as R,r as T,q as a,g as b,E as c};
