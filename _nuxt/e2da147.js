(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{782:function(t,n,e){"use strict";var r=e(3),o=(e(33),e(45),e(263),e(13),e(4),e(12),e(56),e(86),e(11),e(10),e(15),e(16),e(8)),l=e(91),c=e(111);function h(object,t){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),n.push.apply(n,e)}return n}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(n){Object(r.a)(t,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(source,n))}))}return t}n.a=Object(o.a)(l.a,Object(c.b)("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var n=Object.values(t).includes(!0);this.$emit("input",!n)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var t=this,n=function(input){return input.$watch("hasError",(function(n){t.$set(t.errorBag,input._uid,n)}),{immediate:!0})},e={_uid:input._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?e.shouldValidate=input.$watch("shouldValidate",(function(r){r&&(t.errorBag.hasOwnProperty(input._uid)||(e.valid=n(input)))})):e.valid=n(input),e},validate:function(){return 0===this.inputs.filter((function(input){return!input.validate(!0)})).length},reset:function(){this.inputs.forEach((function(input){return input.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(input){return input.resetValidation()})),this.resetErrorBag()},register:function(input){this.inputs.push(input),this.watchers.push(this.watchInput(input))},unregister:function(input){var t=this.inputs.find((function(i){return i._uid===input._uid}));if(t){var n=this.watchers.find((function(i){return i._uid===t._uid}));n&&(n.valid(),n.shouldValidate()),this.watchers=this.watchers.filter((function(i){return i._uid!==t._uid})),this.inputs=this.inputs.filter((function(i){return i._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(t){var n=this;return t("form",{staticClass:"v-form",attrs:d({novalidate:!0},this.attrs$),on:{submit:function(t){return n.$emit("submit",t)}}},this.$slots.default)}})},785:function(t,n,e){var content=e(887);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(21).default)("194a40df",content,!0,{sourceMap:!1})},886:function(t,n,e){"use strict";e(785)},887:function(t,n,e){var r=e(20)(!1);r.push([t.i,".flip-list-move[data-v-395d93b9]{transition:transform .5s}.ghost[data-v-395d93b9]{opacity:.5;background:#c8ebfb}",""]),t.exports=r},924:function(t,n,e){"use strict";e.r(n);e(11),e(10),e(15),e(12),e(16);var r=e(3),o=e(22),l=(e(60),e(32),e(86),e(4),e(29),e(13),e(73),e(81));function c(object,t){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),n.push.apply(n,e)}return n}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(n){Object(r.a)(t,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(source,n))}))}return t}var d={name:"Tank",data:function(){var t=this;return{tank:{name:null,volume:null,waterChange:null,waterChangeVolume:null,length:null,height:null,width:null,glassThickness:null,filter:null,soil:null},rulesName:[function(n){return!!n||t.$t("tanks.dialog.nameRules.require")},function(){return!t.isExist||t.$t("tanks.dialog.nameRules.exists")}],volumeRules:[function(n){return!!n||t.$t("tanks.dialog.volumeRules.require")}]}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.isCreate){n.next=6;break}if(e=t.tanks[t.tankIndex]){n.next=5;break}return n.next=5,t.$router.push("/tanks/");case 5:t.tank=JSON.parse(JSON.stringify(h({},e)));case 6:case"end":return n.stop()}}),n)})))()},computed:h(h({},Object(l.d)(["tanks"])),{},{isCreate:function(){return"create"===this.$route.params.id},tankIndex:function(){return this.$route.params.id},isEdit:function(){return this.tanks.map((function(t){return t.name})).indexOf(this.tank.name)===+this.tankIndex},isExist:function(){var t=this;return this.tanks.map((function(t){return t.name})).find((function(n){return n===t.tank.name}))&&!this.isEdit},dimensions:function(){return"\n        ".concat(this.tank.length,"\n        ").concat(this.tank.height,"\n        ").concat(this.tank.width,"\n        ").concat(this.tank.glassThickness,"\n        ").concat(this.tank.filter,"\n        ").concat(this.tank.soil,"\n      ")}}),watch:{dimensions:function(){var t=0;this.tank.length&&this.tank.height&&this.tank.width&&(t+=Math.round((this.tank.length-2*this.tank.glassThickness/10)*this.tank.height*(this.tank.width-2*this.tank.glassThickness/10)/1e3*100)/100),this.tank.soil&&(t+=this.tank.soil),this.tank.filter&&(t+=this.tank.filter),t&&(this.tank.volume=t)}},methods:h(h({},Object(l.c)(["TANK_ADD","TANK_REMOVE","TANK_EDIT","SNACKBAR_SHOW"])),{},{onInputWaterChange:function(t){t<0||t<=100&&(this.tank.waterChange=+t,this.tank.waterChangeVolume=this.tank.volume*t/100)},onInputWaterChangeVolume:function(t){t<0||t<=this.tank.volume&&(this.tank.waterChangeVolume=+t,this.tank.waterChange=t/this.tank.volume*100)},addTank:function(){this.$refs.tankForm.validate()&&(this.TANK_ADD(h({},this.tank)),this.SNACKBAR_SHOW(this.$t("tanks.dialog.messageTankAdd")),this.$router.push("/tanks/"))},editTank:function(){this.$refs.tankForm.validate()&&(this.TANK_EDIT({index:this.tankIndex,tank:h({},this.tank)}),this.SNACKBAR_SHOW(this.$t("tanks.dialog.messageTankEdit")),this.$router.push("/tanks/"))},removeTank:function(){this.TANK_REMOVE(this.tankIndex),this.$router.push("/tanks/"),this.SNACKBAR_SHOW(this.$t("tanks.dialog.messageTankRemove"))}})},f=(e(886),e(37)),v=e(46),k=e.n(v),m=e(264),_=e(694),w=e(705),$=e(684),O=e(131),x=e(782),C=e(247),y=e(695),j=e(681),component=Object(f.a)(d,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-container",{staticClass:"mb-12"},[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e("v-btn",{staticClass:"mr-0",attrs:{color:"primary",square:"",to:"/tanks/"}},[e("v-icon",[t._v("mdi-chevron-left")])],1)],1),t._v(" "),e("page-title",[t.isCreate?[t._v("\n        Новый аквариум\n      ")]:[t._v("\n        "+t._s(t.tank.name)+"\n      ")]],2),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e("v-form",{ref:"tankForm"},[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:t.$t("tanks.dialog.name"),"hide-details":"auto",clearable:"",hint:t.$t("tanks.dialog.nameHint"),rules:t.rulesName},model:{value:t.tank.name,callback:function(n){t.$set(t.tank,"name",n)},expression:"tank.name"}})],1),t._v(" "),e("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[e("p",{staticClass:"grey--text text--darken-1 body-2 mt-8 mt-md-4 mb-0"},[t._v("\n              Теперь нужно добавить объем воды в аквариуме. Это общий объем воды, который получилось залить\n              в аквариум при запуске.\n              Он состоит из объема водяного столба, воды в грунте и внешнем фильтре за вычетом\n              всех декораций аквариума.\n              "),e("br"),t._v(" "),e("br"),t._v("\n              Проще всего узнать точный объем воды, измерив его при запуске аквариума с помощью емкости\n              или весов. Но если вы не знаете точное значение, то его можно\n              рассчитать с помощью формы, представленной ниже.\n              "),e("br"),t._v(" "),e("br"),t._v("\n              Не переживайте! Вам не обязательно знать точный объем. Погрешность в 10-20% не приведет к\n              большим ошибкам в расчетах удобрений, водорослям или чему-то плохому, т.к. в конечном итоге\n              мы не можем очень точно контролировать поглощение удобрений и опираемся на внешний вид растений.\n            ")]),t._v(" "),e("number-field",{attrs:{label:t.$t("tanks.dialog.volume"),suffix:t.$t("units.l"),"hide-details":"auto",hint:t.$t("tanks.dialog.volumeHint"),rules:t.volumeRules},model:{value:t.tank.volume,callback:function(n){t.$set(t.tank,"volume",n)},expression:"tank.volume"}})],1),t._v(" "),e("v-col",{staticClass:"text-center pb-0",attrs:{cols:"12"}},[e("div",{staticClass:"d-flex align-center my-3"},[e("v-divider"),t._v(" "),e("div",{staticClass:"mx-2"},[t._v("\n                "+t._s(t.$t("tanks.dialog.orSizes"))+"\n              ")]),t._v(" "),e("v-divider")],1)]),t._v(" "),e("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[e("number-field",{attrs:{"precision-show":1,label:t.$t("tanks.dialog.length"),suffix:t.$t("units.cm"),"hide-details":"auto"},model:{value:t.tank.length,callback:function(n){t.$set(t.tank,"length",n)},expression:"tank.length"}}),t._v(" "),e("number-field",{attrs:{"precision-show":1,label:t.$t("tanks.dialog.width"),suffix:t.$t("units.cm"),"hide-details":"auto"},model:{value:t.tank.width,callback:function(n){t.$set(t.tank,"width",n)},expression:"tank.width"}}),t._v(" "),e("number-field",{attrs:{"precision-show":1,label:t.$t("tanks.dialog.height"),suffix:t.$t("units.cm"),hint:t.$t("tanks.dialog.heightHint"),"hide-details":"auto"},model:{value:t.tank.height,callback:function(n){t.$set(t.tank,"height",n)},expression:"tank.height"}}),t._v(" "),e("number-field",{attrs:{"precision-show":1,label:t.$t("tanks.dialog.glassThickness"),suffix:t.$t("units.mm"),"hide-details":"auto"},model:{value:t.tank.glassThickness,callback:function(n){t.$set(t.tank,"glassThickness",n)},expression:"tank.glassThickness"}})],1),t._v(" "),e("v-col",{staticClass:"text-center pb-0",attrs:{cols:"12"}},[e("div",{staticClass:"d-flex align-center my-3"},[e("v-divider"),t._v(" "),e("div",{staticClass:"mx-2"},[t._v("\n                Дополнительные объемы\n              ")]),t._v(" "),e("v-divider")],1)]),t._v(" "),e("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[e("number-field",{attrs:{"precision-show":1,label:t.$t("tanks.dialog.filter"),suffix:t.$t("units.l"),hint:t.$t("tanks.dialog.filterHint"),"hide-details":"auto"},model:{value:t.tank.filter,callback:function(n){t.$set(t.tank,"filter",n)},expression:"tank.filter"}}),t._v(" "),e("number-field",{attrs:{"precision-show":1,label:t.$t("tanks.dialog.soil"),suffix:t.$t("units.l"),hint:t.$t("tanks.dialog.soilHint"),"hide-details":"auto"},model:{value:t.tank.soil,callback:function(n){t.$set(t.tank,"soil",n)},expression:"tank.soil"}}),t._v(" "),e("div",{staticClass:"d-flex"},[e("number-field",{attrs:{value:t.tank.waterChange,"precision-show":1,label:t.$t("tanks.dialog.waterChange"),suffix:"%","hide-details":"auto"},on:{input:t.onInputWaterChange}}),t._v(" "),e("number-field",{staticClass:"ml-2",attrs:{value:t.tank.waterChangeVolume,"precision-show":1,label:t.$t("tanks.dialog.waterChangeVolume"),suffix:t.$t("units.l"),"hide-details":"auto"},on:{input:t.onInputWaterChangeVolume}})],1)],1),t._v(" "),e("v-expand-transition",[e("v-col",{staticClass:"text-right",attrs:{cols:"12"}},[t.isCreate?t._e():e("v-btn",{on:{click:t.removeTank}},[t._v("\n                "+t._s(t.$t("buttons.remove"))+"\n              ")]),t._v(" "),t.isCreate?t._e():e("v-btn",{staticClass:"ml-2",attrs:{color:"primary"},on:{click:t.editTank}},[t._v("\n                "+t._s(t.$t("buttons.save"))+"\n              ")]),t._v(" "),t.isCreate?e("v-btn",{attrs:{color:"primary"},on:{click:t.addTank}},[t._v("\n                "+t._s(t.$t("buttons.save"))+"\n              ")]):t._e()],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,"395d93b9",null);n.default=component.exports;k()(component,{PageTitle:e(201).default,NumberField:e(200).default}),k()(component,{VBtn:m.a,VCol:_.a,VContainer:w.a,VDivider:$.a,VExpandTransition:O.a,VForm:x.a,VIcon:C.a,VRow:y.a,VTextField:j.a})}}]);