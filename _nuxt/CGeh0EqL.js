import{_ as Q}from"./BPRn4kww.js";import{_ as W,a as X,b as Y}from"./TH0dMNMe.js";import{f as $}from"./FI_hX0un.js";import{s as Z}from"./Ch8e8etN.js";import{e as P,k as x,c as d,o as p,a as s,b as r,i as v,t as o,j as e,I as k,L as g,H as ee,F as C,B as te,h as f,w as n,d as l,A as V}from"./B9yjVHhp.js";import{V as w}from"./B5U2yTug.js";import{u as oe,_ as se,a as ie}from"./BKk6R9Wu.js";import{_ as ne}from"./BRPDJa27.js";import{_ as re}from"./CjIT2I4P.js";import{u as ae,_ as pe}from"./PlY2nmeA.js";import{u as me}from"./CMfw_lOJ.js";import{u as ce}from"./C1fikGGh.js";import{u as le}from"./BpiIYKt7.js";import{b as ue,a as de}from"./RzHBLasl.js";import{V as S}from"./CiYxsnUa.js";import"./BCeORXi-.js";import"./CmZMuC7Y.js";import"./v4ejWrzP.js";import"./B931MWyl.js";import"./bZjHF0KA.js";import"./16qR0jSW.js";import"./BBggtmFf.js";import"./DfdMEDEJ.js";import"./CvgPKfcP.js";import"./CWH5Oz_a.js";import"./Dvnrs3S6.js";import"./B2vxmkWL.js";import"./CVulY7yB.js";import"./B0P29Pri.js";import"./C-lUAHu7.js";import"./z4vBdcTo.js";/* empty css        */import"./CC2syBUD.js";import"./CoDF68b2.js";const _e={class:"mb-2"},fe={class:"flex-shrink-0 ml-1"},ve={class:"d-flex justify-space-between"},he={class:"mb-2 mb-sm-4"},be={class:"d-flex text-body-2"},Re={class:"d-flex justify-end ml-2"},ye={class:"ml-1"},ke={class:"mb-3 mr-md-3"},Ve={class:"text-body-2",style:{"word-break":"break-word","white-space":"pre-wrap"}},$e=P({name:"FertilizerRecipeCard",__name:"FertilizerRecipeCard",props:{recipe:{}},setup(B){const{t:m}=x();return(t,h)=>(p(),d("div",null,[s("div",_e,o(e(m)("recipes.card.recipe")),1),(p(!0),d(k,null,g(t.recipe.reagents,i=>(p(),d("div",{key:i.key,class:"d-flex justify-space-between text-body-2"},[s("span",null,o(i.name)+" "+o(i.dilution<100?`${i.dilution}%`:""),1),s("span",fe,o(("format"in t?t.format:e($))(i.amount))+" "+o(i.isLiquid?e(m)("units.ml"):e(m)("units.g")),1)]))),128)),r(w,{class:"my-3"}),s("div",ve,[s("div",he,o(e(m)("recipes.card.composition")),1),s("div",be,[s("div",null,[s("table",null,[(p(!0),d(k,null,g(("sortObject"in t?t.sortObject:e(Z))(t.recipe.concentration),([i,b])=>(p(),d("tr",{key:i+"name"},[s("td",null,o(i),1),s("td",Re,[s("span",null,o(("format"in t?t.format:e($))(b)),1),s("span",ye,o(t.recipe.isLiquid?e(m)("units.g/l"):e(m)("units.g/1g")),1)])]))),128))])])])]),t.recipe.description?(p(),d(k,{key:0},[r(w,{class:"my-3"}),s("div",null,[s("div",ke,o(e(m)("recipes.card.description")),1),s("div",Ve,o(t.recipe.description),1)])],64)):v("",!0)]))}}),ge={class:"mb-2"},Ce={class:"mb-2"},we={class:"mb-2"},pt=P({__name:"index",setup(B){const m=ee(),{t}=x(),{appRoutes:h}=me(),i=ce(),b=le(),{itemIndexToRemove:T,isRemovePopup:R,onRemove:j,onRemoveConfirmation:z}=oe(),{itemIndexToShare:F,isSharePopup:y,encodeUrl:U}=ae(),u=C({get:()=>i.fertilizerRecipeModels,set:_=>i.moveRecipes(_.map(c=>c.toJson()))}),A=C(()=>{const _=i.fertilizerRecipes[F.value];return U(_)});function I(){return m.push(`${h.value.recipes.path}create/`)}async function L(){i.removeRecipe(T.value),b.show(t("recipes.page.message.recipeRemoved")),z()}return te({title:t("meta.recipes.title"),description:t("meta.recipes.description"),keywords:t("meta.recipes.keywords")}),(_,c)=>{const N=Q,M=W,O=X,q=$e,D=se,E=ne,G=re,H=Y,J=pe,K=ie;return p(),f(ue,{"min-height":"100%",class:"mb-12 position-relative"},{default:n(()=>[r(de,null,{default:n(()=>[r(N,null,{default:n(()=>[l(o(e(t)("recipes.title")),1)]),_:1}),r(G,null,{default:n(()=>[e(u).length===0?(p(),f(M,{key:0},{default:n(()=>[l(o(e(t)("recipes.noRecipes")),1)]),_:1})):v("",!0),e(u).length===0?(p(),f(O,{key:1,class:"mb-16"},{default:n(()=>[l(o(e(t)("recipes.hints.p4")),1)]),_:1})):v("",!0),e(u).length!==0?(p(),f(D,{key:2,modelValue:e(u),"onUpdate:modelValue":c[0]||(c[0]=a=>V(u)?u.value=a:null)},{default:n(({item:a})=>[r(q,{recipe:a},null,8,["recipe"])]),actions:n(({index:a})=>[r(S,{variant:"text",right:"",color:"red",class:"ml-n4",onClick:Se=>e(j)(a)},{default:n(()=>[l(o(e(t)("buttons.remove")),1)]),_:2},1032,["onClick"]),r(S,{variant:"text",to:`${e(h).recipes.path}${a}/`,class:"mr-n4"},{default:n(()=>[l(o(e(t)("buttons.edit")),1)]),_:2},1032,["to"])]),_:1},8,["modelValue"])):v("",!0),r(E,null,{default:n(()=>[s("p",ge,o(e(t)("recipes.hints.p1")),1),s("p",Ce,o(e(t)("recipes.hints.p2")),1),s("p",we,o(e(t)("recipes.hints.p3")),1)]),_:1})]),_:1})]),_:1}),r(H,{action:I},{default:n(()=>[l(o(e(t)("recipes.addButton")),1)]),_:1}),r(J,{modelValue:e(y),"onUpdate:modelValue":c[1]||(c[1]=a=>V(y)?y.value=a:null),url:e(A)},null,8,["modelValue","url"]),r(K,{modelValue:e(R),"onUpdate:modelValue":c[2]||(c[2]=a=>V(R)?R.value=a:null),onRemove:L},{default:n(()=>[l(o(e(t)("recipes.removePopupContent")),1)]),_:1},8,["modelValue"])]),_:1})}}});export{pt as default};
