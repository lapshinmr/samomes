import{q as N,O as q,E as f,r as B,D,R as O,av as de,a1 as C,f as Q,Y as Ee,ap as Ne,bt as Le,af as me,ac as fe,bu as Oe,e as Be,u as He,m as H,a7 as ee,aa as ge,a8 as te,b as g,P as X,Q as Me,ag as ze,y as U,s as ye,aw as he,I as Y,ae as be,bv as Ue,N as $e,au as De,a6 as je}from"./DooifDUh.js";import{u as Je}from"./DlEfZsiq.js";import{u as Ye}from"./RyU1jAUC.js";import{u as qe}from"./Down_MvI.js";import{u as Fe}from"./Cqhev4Tw.js";import{u as Ge}from"./CRkoWzlW.js";import{H as se,R as ie}from"./BQGgX5ID.js";import{a as M,c as F,m as ae,e as Ke,u as Ze,b as We}from"./BKA_xJF-.js";import{a as Xe}from"./Bq5I3udg.js";import{j as Qe,n as et,p as tt,q as pe,x as Se,y as at,z as ot,c as J,C as nt,o as lt,l as st,D as it,E as ut,t as rt,f as ct}from"./CW3zH-KM.js";import{V as vt}from"./Dono62s_.js";import{u as Ve}from"./BaLlFs20.js";import{u as dt,b as ue,c as mt}from"./B2b76GT0.js";import{f as ft}from"./B931MWyl.js";const j=Symbol.for("vuetify:layout"),Te=Symbol.for("vuetify:layout-item"),re=1e3,gt=N({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),yt=N({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function ke(){const e=q(j);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function ht(e){const n=q(j);if(!n)throw new Error("[Vuetify] Could not find injected layout");const t=e.id??`layout-item-${Ee()}`,a=de("useLayoutItem");fe(Te,{id:t});const l=C(!1);Ne(()=>l.value=!0),Le(()=>l.value=!1);const{layoutItemStyles:o,layoutItemScrimStyles:i}=n.register(a,{...e,active:f(()=>l.value?!1:e.active.value),id:t});return me(()=>n.unregister(t)),{layoutItemStyles:o,layoutRect:n.layoutRect,layoutItemScrimStyles:i}}const bt=(e,n,t,a)=>{let l={top:0,left:0,right:0,bottom:0};const o=[{id:"",layer:{...l}}];for(const i of e){const r=n.get(i),u=t.get(i),m=a.get(i);if(!r||!u||!m)continue;const v={...l,[r.value]:parseInt(l[r.value],10)+(m.value?parseInt(u.value,10):0)};o.push({id:i,layer:v}),l=v}return o};function pt(e){const n=q(j,null),t=f(()=>n?n.rootZIndex.value-100:re),a=B([]),l=D(new Map),o=D(new Map),i=D(new Map),r=D(new Map),u=D(new Map),{resizeRef:m,contentRect:v}=Qe(),s=f(()=>{const S=new Map,w=e.overlaps??[];for(const b of w.filter(I=>I.includes(":"))){const[I,k]=b.split(":");if(!a.value.includes(I)||!a.value.includes(k))continue;const y=l.get(I),P=l.get(k),_=o.get(I),L=o.get(k);!y||!P||!_||!L||(S.set(k,{position:y.value,amount:parseInt(_.value,10)}),S.set(I,{position:P.value,amount:-parseInt(L.value,10)}))}return S}),h=f(()=>{const S=[...new Set([...i.values()].map(b=>b.value))].sort((b,I)=>b-I),w=[];for(const b of S){const I=a.value.filter(k=>{var y;return((y=i.get(k))==null?void 0:y.value)===b});w.push(...I)}return bt(w,l,o,r)}),T=f(()=>!Array.from(u.values()).some(S=>S.value)),c=f(()=>h.value[h.value.length-1].layer),p=f(()=>({"--v-layout-left":O(c.value.left),"--v-layout-right":O(c.value.right),"--v-layout-top":O(c.value.top),"--v-layout-bottom":O(c.value.bottom),...T.value?void 0:{transition:"none"}})),V=f(()=>h.value.slice(1).map((S,w)=>{let{id:b}=S;const{layer:I}=h.value[w],k=o.get(b),y=l.get(b);return{id:b,...I,size:Number(k.value),position:y.value}})),A=S=>V.value.find(w=>w.id===S),d=de("createLayout"),x=C(!1);Q(()=>{x.value=!0}),fe(j,{register:(S,w)=>{let{id:b,order:I,position:k,layoutSize:y,elementSize:P,active:_,disableTransitions:L,absolute:Pe}=w;i.set(b,I),l.set(b,k),o.set(b,y),r.set(b,_),L&&u.set(b,L);const oe=Oe(Te,d==null?void 0:d.vnode).indexOf(S);oe>-1?a.value.splice(oe,0,b):a.value.push(b);const ne=f(()=>V.value.findIndex($=>$.id===b)),G=f(()=>t.value+h.value.length*2-ne.value*2),Ce=f(()=>{const $=k.value==="left"||k.value==="right",K=k.value==="right",Re=k.value==="bottom",Z=P.value??y.value,Ae=Z===0?"%":"px",le={[k.value]:0,zIndex:G.value,transform:`translate${$?"X":"Y"}(${(_.value?0:-(Z===0?100:Z))*(K||Re?-1:1)}${Ae})`,position:Pe.value||t.value!==re?"absolute":"fixed",...T.value?void 0:{transition:"none"}};if(!x.value)return le;const R=V.value[ne.value];if(!R)throw new Error(`[Vuetify] Could not find layout item "${b}"`);const W=s.value.get(b);return W&&(R[W.position]+=W.amount),{...le,height:$?`calc(100% - ${R.top}px - ${R.bottom}px)`:P.value?`${P.value}px`:void 0,left:K?void 0:`${R.left}px`,right:K?`${R.right}px`:void 0,top:k.value!=="bottom"?`${R.top}px`:void 0,bottom:k.value!=="top"?`${R.bottom}px`:void 0,width:$?P.value?`${P.value}px`:void 0:`calc(100% - ${R.left}px - ${R.right}px)`}}),_e=f(()=>({zIndex:G.value-1}));return{layoutItemStyles:Ce,layoutItemScrimStyles:_e,zIndex:G}},unregister:S=>{i.delete(S),l.delete(S),o.delete(S),r.delete(S),u.delete(S),a.value=a.value.filter(w=>w!==S)},mainRect:c,mainStyles:p,getLayoutItem:A,items:V,layoutRect:v,rootZIndex:t});const E=f(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),z=f(()=>({zIndex:n?t.value:void 0,position:n?"relative":void 0,overflow:n?"hidden":void 0}));return{layoutClasses:E,layoutStyles:z,getLayoutItem:A,items:V,layoutRect:v,layoutRef:m}}const ce={webManifest:{href:"/manifest.webmanifest"}},jt=Be({async setup(){if(ce){const e=B({link:[]});He(e);const{webManifest:n}=ce;if(n){const{href:t}=n;e.value.link.push({rel:"manifest",href:t})}}return()=>null}}),Jt=()=>{const e=Je(),n=Ye(),t=qe(),a=Fe(),{getReagents:l}=Ge();function o(){if(e.isUpdated||(((JSON.parse(localStorage.getItem("udata"))||{}).tanks||[]).forEach(u=>{const m={name:u.name,volume:u.volume,waterChangePercent:u.waterChange,waterChangeVolume:u.waterChangeVolume,filterVolume:u.filter};e.addTank(m)}),e.setUpdated(!0)),!n.isUpdated){const r=(JSON.parse(localStorage.getItem("udata"))||{}).recipes||[],m=l(0),v=m.find(s=>s.key===se);r.forEach(s=>{const h={name:s.name,description:s.note,tankVolume:s.tankVolume,reagents:[]};s.volume&&(v.amount=s.volume,h.reagents.push(v.toJson())),Object.entries(s.mass).forEach(([T,c])=>{const p=m.find(V=>V.key===T);p instanceof ie&&c&&(p.amount=c,h.reagents.push(p.toJson()))}),n.addRecipe(h)}),n.setUpdated(!0)}if(!a.isUpdated){const r=(JSON.parse(localStorage.getItem("udata"))||{}).reminerals||[],m=l(0),v=m.find(s=>s.key===se);r.forEach(s=>{const h={name:s.name,description:s.note,changeVolume:s.volume,doseVolume:s.doseVolume,totalVolume:s.substanceVolume,reagents:[]};s.substanceVolume&&(v.amount=s.substanceVolume,h.reagents.push(v.toJson())),Object.entries(s.mass).forEach(([T,c])=>{const p=m.find(V=>V.key===T);p instanceof ie&&c&&(p.amount=c,h.reagents.push(p.toJson()))}),a.addRemineral(h)}),a.setUpdated(!0)}t.isUpdated||(((JSON.parse(localStorage.getItem("udata"))||{}).fertilizers||[]).forEach(u=>{const m={name:u.name,description:u.note,isPercent:u.isPercent,isLiquid:u.isLiluid||!0,ions:{}};Object.entries(u.elements).forEach(([v,s])=>{s&&(m.ions[v]=s)}),t.addFertilizer(m)}),t.setUpdated(!0))}return{copyOldData:o}},St=N({...F(),...gt({fullHeight:!0}),...te()},"VApp"),Yt=H()({name:"VApp",props:St(),setup(e,n){let{slots:t}=n;const a=ee(e),{layoutClasses:l,getLayoutItem:o,items:i,layoutRef:r}=pt(e),{rtlClasses:u}=ge();return M(()=>{var m;return g("div",{ref:r,class:["v-application",a.themeClasses.value,l.value,u.value,e.class],style:[e.style]},[g("div",{class:"v-application__wrap"},[(m=t.default)==null?void 0:m.call(t)])])}),{getLayoutItem:o,items:i,theme:a}}}),xe=N({text:String,...F(),...ae()},"VToolbarTitle"),Ie=H()({name:"VToolbarTitle",props:xe(),setup(e,n){let{slots:t}=n;return M(()=>{const a=!!(t.default||t.text||e.text);return g(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var l;return[a&&g("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(l=t.default)==null?void 0:l.call(t)])]}})}),{}}}),Vt=[null,"prominent","default","comfortable","compact"],we=N({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Vt.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...ot(),...F(),...at(),...Se(),...ae({tag:"header"}),...te()},"VToolbar"),ve=H()({name:"VToolbar",props:we(),setup(e,n){var T;let{slots:t}=n;const{backgroundColorClasses:a,backgroundColorStyles:l}=Ke(X(e,"color")),{borderClasses:o}=et(e),{elevationClasses:i}=tt(e),{roundedClasses:r}=pe(e),{themeClasses:u}=ee(e),{rtlClasses:m}=ge(),v=C(!!(e.extended||(T=t.extension)!=null&&T.call(t))),s=f(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),h=f(()=>v.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Me({VBtn:{variant:"text"}}),M(()=>{var A;const c=!!(e.title||t.title),p=!!(t.image||e.image),V=(A=t.extension)==null?void 0:A.call(t);return v.value=!!(e.extended||V),g(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},a.value,o.value,i.value,r.value,u.value,m.value,e.class],style:[l.value,e.style]},{default:()=>[p&&g("div",{key:"image",class:"v-toolbar__image"},[t.image?g(J,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):g(vt,{key:"image-img",cover:!0,src:e.image},null)]),g(J,{defaults:{VTabs:{height:O(s.value)}}},{default:()=>{var d,x,E;return[g("div",{class:"v-toolbar__content",style:{height:O(s.value)}},[t.prepend&&g("div",{class:"v-toolbar__prepend"},[(d=t.prepend)==null?void 0:d.call(t)]),c&&g(Ie,{key:"title",text:e.title},{text:t.title}),(x=t.default)==null?void 0:x.call(t),t.append&&g("div",{class:"v-toolbar__append"},[(E=t.append)==null?void 0:E.call(t)])])]}}),g(J,{defaults:{VTabs:{height:O(h.value)}}},{default:()=>[g(Xe,null,{default:()=>[v.value&&g("div",{class:"v-toolbar__extension",style:{height:O(h.value)}},[V])]})]})]})}),{contentHeight:s,extensionHeight:h}}}),Tt=N({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function kt(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=n;let a=0,l=0;const o=B(null),i=C(0),r=C(0),u=C(0),m=C(!1),v=C(!1),s=f(()=>Number(e.scrollThreshold)),h=f(()=>ze((s.value-i.value)/s.value||0)),T=()=>{const c=o.value;if(!c||t&&!t.value)return;a=i.value,i.value="window"in c?c.pageYOffset:c.scrollTop;const p=c instanceof Window?document.documentElement.scrollHeight:c.scrollHeight;if(l!==p){l=p;return}v.value=i.value<a,u.value=Math.abs(i.value-s.value)};return U(v,()=>{r.value=r.value||i.value}),U(m,()=>{r.value=0}),Q(()=>{U(()=>e.scrollTarget,c=>{var V;const p=c?document.querySelector(c):window;p&&p!==o.value&&((V=o.value)==null||V.removeEventListener("scroll",T),o.value=p,o.value.addEventListener("scroll",T,{passive:!0}))},{immediate:!0})}),me(()=>{var c;(c=o.value)==null||c.removeEventListener("scroll",T)}),t&&U(t,T,{immediate:!0}),{scrollThreshold:s,currentScroll:i,currentThreshold:u,isScrollActive:m,scrollRatio:h,isScrollingUp:v,savedScroll:r}}const xt=N({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...we(),...yt(),...Tt(),height:{type:[Number,String],default:64}},"VAppBar"),qt=H()({name:"VAppBar",props:xt(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=B(),l=ye(e,"modelValue"),o=f(()=>{var x;const d=new Set(((x=e.scrollBehavior)==null?void 0:x.split(" "))??[]);return{hide:d.has("hide"),fullyHide:d.has("fully-hide"),inverted:d.has("inverted"),collapse:d.has("collapse"),elevate:d.has("elevate"),fadeImage:d.has("fade-image")}}),i=f(()=>{const d=o.value;return d.hide||d.fullyHide||d.inverted||d.collapse||d.elevate||d.fadeImage||!l.value}),{currentScroll:r,scrollThreshold:u,isScrollingUp:m,scrollRatio:v}=kt(e,{canScroll:i}),s=f(()=>o.value.hide||o.value.fullyHide),h=f(()=>e.collapse||o.value.collapse&&(o.value.inverted?v.value>0:v.value===0)),T=f(()=>e.flat||o.value.fullyHide&&!l.value||o.value.elevate&&(o.value.inverted?r.value>0:r.value===0)),c=f(()=>o.value.fadeImage?o.value.inverted?1-v.value:v.value:void 0),p=f(()=>{var E,z;if(o.value.hide&&o.value.inverted)return 0;const d=((E=a.value)==null?void 0:E.contentHeight)??0,x=((z=a.value)==null?void 0:z.extensionHeight)??0;return s.value?r.value<u.value||o.value.fullyHide?d+x:d:d+x});he(f(()=>!!e.scrollBehavior),()=>{be(()=>{s.value?o.value.inverted?l.value=r.value>u.value:l.value=m.value||r.value<u.value:l.value=!0})});const{ssrBootStyles:V}=Ve(),{layoutItemStyles:A}=ht({id:e.name,order:f(()=>parseInt(e.order,10)),position:X(e,"location"),layoutSize:p,elementSize:C(void 0),active:l,absolute:X(e,"absolute")});return M(()=>{const d=ve.filterProps(e);return g(ve,Y({ref:a,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...A.value,"--v-toolbar-image-opacity":c.value,height:void 0,...V.value},e.style]},d,{collapse:h.value,flat:T.value}),t)}),{}}}),Ft=H()({name:"VAppBarTitle",props:xe(),setup(e,n){let{slots:t}=n;return M(()=>g(Ie,Y(e,{class:"v-app-bar-title"}),t)),{}}}),It=N({scrollable:Boolean,...F(),...We(),...ae({tag:"main"})},"VMain"),Gt=H()({name:"VMain",props:It(),setup(e,n){let{slots:t}=n;const{dimensionStyles:a}=Ze(e),{mainStyles:l}=ke(),{ssrBootStyles:o}=Ve();return M(()=>g(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[l.value,o.value,a.value,e.style]},{default:()=>{var i,r;return[e.scrollable?g("div",{class:"v-main__scroller"},[(i=t.default)==null?void 0:i.call(t)]):(r=t.default)==null?void 0:r.call(t)]}})),{}}});function wt(e){const n=C(e());let t=-1;function a(){clearInterval(t)}function l(){a(),je(()=>n.value=e())}function o(i){const r=i?getComputedStyle(i):{transitionDuration:.2},u=parseFloat(r.transitionDuration)*1e3||200;if(a(),n.value<=0)return;const m=performance.now();t=window.setInterval(()=>{const v=performance.now()-m+u;n.value=Math.max(e()-v,0),n.value<=0&&a()},u)}return De(a),{clear:a,time:n,start:o,reset:l}}const Pt=N({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...ut({location:"bottom"}),...it(),...Se(),...st(),...te(),...$e(mt({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Kt=H()({name:"VSnackbar",props:Pt(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=ye(e,"modelValue"),{positionClasses:l}=nt(e),{scopeId:o}=dt(),{themeClasses:i}=ee(e),{colorClasses:r,colorStyles:u,variantClasses:m}=lt(e),{roundedClasses:v}=pe(e),s=wt(()=>Number(e.timeout)),h=B(),T=B(),c=C(!1),p=C(0),V=B(),A=q(j,void 0);he(()=>!!A,()=>{const y=ke();be(()=>{V.value=y.mainStyles.value})}),U(a,x),U(()=>e.timeout,x),Q(()=>{a.value&&x()});let d=-1;function x(){s.reset(),window.clearTimeout(d);const y=Number(e.timeout);if(!a.value||y===-1)return;const P=Ue(T.value);s.start(P),d=window.setTimeout(()=>{a.value=!1},y)}function E(){s.reset(),window.clearTimeout(d)}function z(){c.value=!0,E()}function S(){c.value=!1,x()}function w(y){p.value=y.touches[0].clientY}function b(y){Math.abs(p.value-y.changedTouches[0].clientY)>50&&(a.value=!1)}function I(){c.value&&S()}const k=f(()=>e.location.split(" ").reduce((y,P)=>(y[`v-snackbar--${P}`]=!0,y),{}));return M(()=>{const y=ue.filterProps(e),P=!!(t.default||t.text||e.text);return g(ue,Y({ref:h,class:["v-snackbar",{"v-snackbar--active":a.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},k.value,l.value,e.class],style:[V.value,e.style]},y,{modelValue:a.value,"onUpdate:modelValue":_=>a.value=_,contentProps:Y({class:["v-snackbar__wrapper",i.value,r.value,v.value,m.value],style:[u.value],onPointerenter:z,onPointerleave:S},y.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:w,onTouchend:b,onAfterLeave:I},o),{default:()=>{var _,L;return[rt(!1,"v-snackbar"),e.timer&&!c.value&&g("div",{key:"timer",class:"v-snackbar__timer"},[g(ct,{ref:T,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":s.time.value},null)]),P&&g("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((_=t.text)==null?void 0:_.call(t))??e.text,(L=t.default)==null?void 0:L.call(t)]),t.actions&&g(J,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[g("div",{class:"v-snackbar__actions"},[t.actions({isActive:a})])]})]},activator:t.activator})}),ft({},h)}});export{Yt as V,jt as _,Jt as a,qt as b,Ft as c,Kt as d,Gt as e,yt as m,ht as u};
